<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>IOC控制反转 &nbsp;|&nbsp;沂风</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="IOC控制反转 ">
  
    <meta name="description" content="spring中IOC控制反转的概念，用法">
    <meta property="og:description" content="spring中IOC控制反转的概念，用法">
  
  
    <meta property="og:image" content="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🎱&lt;/text&gt;&lt;/svg&gt;">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;😀&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>关于</span>
        </div>
      </a>
    
  
</nav>
  <header class="Header">
    
      <div class="Header__Cover">
        <img src="https://www.notion.so/images/page-cover/solid_beige.png">
      </div>
    
    <div class="Header__Spacer ">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🎱&lt;/text&gt;&lt;/svg&gt;"></span>
      </div>
    
    <h1 class="Header__Title">IOC控制反转 </h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Mon, Aug 28, 2023</span>
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--purple">
            <a href="tag/spring.html">spring</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/86ea60fe57404a95b5b70bb4092974a7" class="PageRoot"><ul id="https://www.notion.so/3ae2a150e83e43f78b52c4f334c7b3a8" class="ColorfulBlock ColorfulBlock--ColorGray TableOfContents"><li class="TableOfContents__Item"><a href="#https://www.notion.so/ba835ead29cd44af819b666265354837"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">针对Bean的管理由用户交给框架</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/daa0844cc674459496c5e51c661ce9ed"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">应用程序代码从Ioc Container中获取依赖的Bean，注入到应用程序中，这个过程叫</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">依赖注入(Dependency Injection，DI)</strong></span><span class="SemanticString">； 所以说控制反转是通过依赖注入实现的，其实它们是同一个概念的不同角度描述。通俗来说就是</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">IoC是设计思想，DI是实现方式的一部分</strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/97d894cc2dc04dd88377be7e0034424f"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">把创建和查找依赖对象的控制权交给了容器，由容器进行注入组合对象，所以对象与对象之间是 松散耦合，这样也方便测试，利于功能复用，更重要的是使得程序的整个体系结构变得非常灵活</strong></span><span class="SemanticString">。</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e7eb3cfd45b9454bb5a5e7fbec59640c"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">什么是依赖注入</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/683720c5a22b4a24b5544a8fc323ffaf"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">控制反转</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/ecbf18bebb274847b6fdfd8c31218ef8"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">基本原则</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/54361ad9525e427f98888e229988b62a"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">依赖注入有什么好处</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/6383384836dc4932809908967aa0d51c"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">IOC配置的三种方式</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/47a5ee7bfdc74abb8ab9d8bd64f7f542"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">xml配置</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/83d14973d277436888d67d3fadbaa162"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">第三方类库或者一些配置工具不支持注解配置，就需要使用xml文件</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/455a3e7caf0e48de9a92c92b9adc97ac"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">Java配置</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/4198f23819d74c34beb364b729e470d9"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">注解配置</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/7cc6ae73fb0b4ff5b21965c908bd1a5e"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">依赖注入配置（注入需要的依赖）</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e7d18d0125d34cc7b50b9109397e0515"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">setter</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e01aa1b136994c4ba61e587d755c3be3"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">通过构造函数注入</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/0146aaa97a7e4ff9a13329405e8e37f0"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">注解注入</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/4321dcb35f7c4d048b88e6334fccfb19"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">IOC初始化流程</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/31dcb950d2604049bb35366eacc1edb7"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">IOCvsFactory</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/201208b701fe46848024073258df461f"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">IOC容器的生命周期</span></span></div></a></li></ul><h3 id="https://www.notion.so/ba835ead29cd44af819b666265354837" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/ba835ead29cd44af819b666265354837"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">针对Bean的管理由用户交给框架</span></span></h3><h3 id="https://www.notion.so/daa0844cc674459496c5e51c661ce9ed" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/daa0844cc674459496c5e51c661ce9ed"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">应用程序代码从Ioc Container中获取依赖的Bean，注入到应用程序中，这个过程叫</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">依赖注入(Dependency Injection，DI)</strong></span><span class="SemanticString">； 所以说控制反转是通过依赖注入实现的，其实它们是同一个概念的不同角度描述。通俗来说就是</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">IoC是设计思想，DI是实现方式的一部分</strong></span></span></h3><h3 id="https://www.notion.so/97d894cc2dc04dd88377be7e0034424f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/97d894cc2dc04dd88377be7e0034424f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">把创建和查找依赖对象的控制权交给了容器，由容器进行注入组合对象，所以对象与对象之间是 松散耦合，这样也方便测试，利于功能复用，更重要的是使得程序的整个体系结构变得非常灵活</strong></span><span class="SemanticString">。</span></span></h3><div id="https://www.notion.so/afa04317f27e4c33ab0a38b1ba93c19e" class="Divider"></div><h1 id="https://www.notion.so/e7eb3cfd45b9454bb5a5e7fbec59640c" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/e7eb3cfd45b9454bb5a5e7fbec59640c"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">什么是依赖注入</span></span></h1><div id="https://www.notion.so/0e1ca9a73cbf4a2ea1b149d6372a5967" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">将原本在程序中手动创建对象的控制权，交由Spring框架来管理</span></span></p></div><div id="https://www.notion.so/e5065b0934e449ffb5f8ad0798fa2bc3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Ioc容器是Spring用来实现Ioc的载体，Ioc容器实际上就是个Map，Map中存放的是各种对象</span></span></p></div><div id="https://www.notion.so/eecc9afeb50144abae3b64c55a77f7e3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">将对象之间的相互依赖关系交给IOC容器来管理，并由IOC容器完成对象的注入</span></span></p></div><div id="https://www.notion.so/28bf2268ad9b404d99b8b496b4f6e927" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">IOC容器就像一个工厂一样，当需要创建一个对象的时候，只需要配置好配置文件/注解即可，完全不用考虑对象是如何被创建出来的</span></span></p></div><h1 id="https://www.notion.so/683720c5a22b4a24b5544a8fc323ffaf" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/683720c5a22b4a24b5544a8fc323ffaf"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">控制反转</span></span></h1><div id="https://www.notion.so/915180c08de04d52be815c705ccb2085" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在IOC容器运行期间，动态地讲某种依赖关系注入到对象之中，也就是获得依赖对象的过程被反转了</span></span></p></div><div id="https://www.notion.so/46a5b96235624bd7a3c0e0d8c389da73" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">由自身管理变为了IOC容器主动注入</span></span></p></div><h1 id="https://www.notion.so/ecbf18bebb274847b6fdfd8c31218ef8" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/ecbf18bebb274847b6fdfd8c31218ef8"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">基本原则</span></span></h1><div id="https://www.notion.so/ea5dff7585774395a6932bdaba0cb16a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">应用组件不应该负责查找资源或者其他依赖的协作对象</span></span></p></div><div id="https://www.notion.so/16cdfff873f9414c9439b72f2b25d914" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">IOC容器负责组建的装配</span></span></p></div><h1 id="https://www.notion.so/54361ad9525e427f98888e229988b62a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/54361ad9525e427f98888e229988b62a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">依赖注入有什么好处</span></span></h1><div id="https://www.notion.so/f3269e31c060428f9a142caf7aa25507" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">让容器全权负责依赖查询，受管理组件只需要暴露setter方法或者带参数的构造器或者接口</span></span></p></div><div id="https://www.notion.so/7edee1614791484ea24c064de5357ba7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">使容器可以在初始化时组装对象的依赖关系</span></span></p></div><h1 id="https://www.notion.so/6383384836dc4932809908967aa0d51c" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/6383384836dc4932809908967aa0d51c"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">IOC配置的三种方式</span></span></h1><h2 id="https://www.notion.so/47a5ee7bfdc74abb8ab9d8bd64f7f542" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/47a5ee7bfdc74abb8ab9d8bd64f7f542"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">xml配置</span></span></h2><div id="https://www.notion.so/1ed3732a1cd74de9bb2e2b9cc377f90a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">就是将bean的信息配置.xml文件里，通过Spring加载文件为我们创建bean。这种方式出现很多早前的SSM项目中，将第三方类库或者一些配置工具类都以这种方式进行配置，主要原因是由于第三方类不支持Spring注解。</span></span></p></div><h3 id="https://www.notion.so/83d14973d277436888d67d3fadbaa162" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/83d14973d277436888d67d3fadbaa162"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">第三方类库或者一些配置工具不支持注解配置，就需要使用xml文件</span></span></h3><div id="https://www.notion.so/c097dce52c584c47a7e74bd38a5cbcdb" class="Divider"></div><h2 id="https://www.notion.so/455a3e7caf0e48de9a92c92b9adc97ac" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/455a3e7caf0e48de9a92c92b9adc97ac"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Java配置</span></span></h2><div id="https://www.notion.so/8d7096588d124fb786aacf0401371043" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">将类的创建交给我们配置的JavcConfig类来完成，Spring只负责维护和管理，采用纯Java创建方式。其本质上就是把在XML上的配置声明转移到Java配置类中</span></span></p></div><div id="https://www.notion.so/63ce473032ab4e0b8e10e29c2ebe6ab8" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb269d061-b135-433f-978b-2966aa0157d2%2FUntitled.png?width=1491&amp;table=block&amp;id=63ce4730-32ab-4e0b-8e10-e29c2ebe6ab8"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb269d061-b135-433f-978b-2966aa0157d2%2FUntitled.png?width=1491&amp;table=block&amp;id=63ce4730-32ab-4e0b-8e10-e29c2ebe6ab8" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/4198f23819d74c34beb364b729e470d9" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/4198f23819d74c34beb364b729e470d9"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">注解配置</span></span></h2><div id="https://www.notion.so/931d725a32e14d9ba35bc0d4c201bf19" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">通过在类上加注解的方式，来声明一个类交给Spring管理，Spring会自动扫描带有@Component，@Controller，@Service，@Repository这四个注解的类，然后帮我们创建并管理，前提是需要先配置Spring的注解扫描器。</span></span></p></div><div id="https://www.notion.so/d4d77f953f594f6695b38f076bc476e2" class="Divider"></div><h1 id="https://www.notion.so/7cc6ae73fb0b4ff5b21965c908bd1a5e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/7cc6ae73fb0b4ff5b21965c908bd1a5e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">依赖注入配置（注入需要的依赖）</span></span></h1><h2 id="https://www.notion.so/e7d18d0125d34cc7b50b9109397e0515" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/e7d18d0125d34cc7b50b9109397e0515"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">setter</span></span></h2><div id="https://www.notion.so/418c153920aa4841ad010c0548c05730" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">set方法</span></span></p></div><h2 id="https://www.notion.so/e01aa1b136994c4ba61e587d755c3be3" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/e01aa1b136994c4ba61e587d755c3be3"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">通过构造函数注入</span></span></h2><div id="https://www.notion.so/27d4c91458fa4b1dbcd8919b004c5d5a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">直接在构造函数中引入</span></span></p></div><h2 id="https://www.notion.so/0146aaa97a7e4ff9a13329405e8e37f0" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/0146aaa97a7e4ff9a13329405e8e37f0"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">注解注入</span></span></h2><div id="https://www.notion.so/273fb59d41f74aa0945026fb543b7f96" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">以@Autowired（自动注入）注解注入为例，修饰符有三个属性：Constructor，byType，byName。默认按照byType注入。</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/36db39e99e5244fd9a8ca656c98fea70" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">constructor</strong></span><span class="SemanticString">：通过构造方法进行自动注入，spring会匹配与构造方法参数类型一致的bean进行注入，如果有一个多参数的构造方法，一个只有一个参数的构造方法，在容器中查找到多个匹配多参数构造方法的bean，那么spring会优先将bean注入到多参数的构造方法中。</span></span></li><li id="https://www.notion.so/17e1845a30944762b4cbf31671f7b119" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">byName</strong></span><span class="SemanticString">：被注入bean的id名必须与set方法后半截匹配，并且id名称的第一个单词首字母必须小写，这一点与手动set注入有点不同。</span></span></li><li id="https://www.notion.so/fb7bc48e21b549919b585bdbd24d64e3" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">byType</strong></span><span class="SemanticString">：查找所有的set方法，将符合符合参数类型的bean注入。</span></span></li></ul><div id="https://www.notion.so/3402b3a5ab0744438eb757f6ef8e6973" class="Divider"></div><h1 id="https://www.notion.so/4321dcb35f7c4d048b88e6334fccfb19" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/4321dcb35f7c4d048b88e6334fccfb19"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">IOC初始化流程</span></span></h1><ol class="NumberedListWrapper"><li id="https://www.notion.so/c518f26daf16486bac0e45a529d85e28" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">Spring启动</span></span></li><li id="https://www.notion.so/be1c250bd28846038e5a96bfcb0040e4" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">加载配置文件，xml，JavaConfig，注解，其他形式等等</span></span></li><li id="https://www.notion.so/89b87458ba3940ad8fc99e688eaed938" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">加载完配置文件后将配置文件转化为统一的Resource来处理</span></span></li><li id="https://www.notion.so/db32107554394bb6992e5038e4fb63f1" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">使用Resource解析将我们定义的一些配置都转化为Spring内部的表示形式，BeanDefinition</span></span></li><li id="https://www.notion.so/d1c98c3c16fc48918050aee220b799c5" class="NumberedList" value="5"><span class="SemanticStringArray"><span class="SemanticString">在低级的容器BeanFactory中到这里接可以宣告Spring容器初始化完成了。Bean的初始化实在我们使用Bean的时候出发的</span></span></li><li id="https://www.notion.so/c0d251fe95a345989a7d2e8eface2618" class="NumberedList" value="6"><span class="SemanticStringArray"><span class="SemanticString">在高级的ron 的gqiAppkucatonContext中，会自动触发哪些懒式初始化的单例Bean，让Bean以及依赖的Bean走完初始化的流程</span></span></li><li id="https://www.notion.so/bb495b3e822f41bb959224f947417048" class="NumberedList" value="7"><span class="SemanticStringArray"><span class="SemanticString">在应用中使用Bean</span></span></li><li id="https://www.notion.so/ea242fcc5d9141729653c33b20e19b4e" class="NumberedList" value="8"><span class="SemanticStringArray"><span class="SemanticString">Spring容器关闭，销毁Bean</span></span></li></ol><div id="https://www.notion.so/032c7186691a413c8a2dda4c3e62b5d3" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F8659289e-d990-4740-95d9-2b1c93bcc238%2FUntitled.png?width=1232&amp;table=block&amp;id=032c7186-691a-413c-8a2d-da4c3e62b5d3"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F8659289e-d990-4740-95d9-2b1c93bcc238%2FUntitled.png?width=1232&amp;table=block&amp;id=032c7186-691a-413c-8a2d-da4c3e62b5d3" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h1 id="https://www.notion.so/31dcb950d2604049bb35366eacc1edb7" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/31dcb950d2604049bb35366eacc1edb7"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">IOCvsFactory</span></span></h1><div id="https://www.notion.so/9d57bdf81b5d477fabe9ffc1182cbcd7" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fbe1af6e7-f36d-4deb-8d99-20c2e4be197b%2FUntitled.png?width=1232&amp;table=block&amp;id=9d57bdf8-1b5d-477f-abe9-ffc1182cbcd7"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fbe1af6e7-f36d-4deb-8d99-20c2e4be197b%2FUntitled.png?width=1232&amp;table=block&amp;id=9d57bdf8-1b5d-477f-abe9-ffc1182cbcd7" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h1 id="https://www.notion.so/201208b701fe46848024073258df461f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/201208b701fe46848024073258df461f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">IOC容器的生命周期</span></span></h1><div id="https://www.notion.so/913efa8198e242fda1c5abb67a4e3da8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></article>
  <footer class="Footer">
  <div>&copy; 沂风 2022</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>