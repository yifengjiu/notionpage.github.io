<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>类生命周期机制和加载机制 &nbsp;|&nbsp;沂风</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="类生命周期机制和加载机制 ">
  
    <meta name="description" content="JVM类加载机制">
    <meta property="og:description" content="JVM类加载机制">
  
  
    <meta property="og:image" content="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;☄️&lt;/text&gt;&lt;/svg&gt;">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;😀&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>关于</span>
        </div>
      </a>
    
  
    
  
</nav>
  <header class="Header">
    
      <div class="Header__Cover">
        <img src="https://www.notion.so/images/page-cover/solid_yellow.png">
      </div>
    
    <div class="Header__Spacer ">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;☄️&lt;/text&gt;&lt;/svg&gt;"></span>
      </div>
    
    <h1 class="Header__Title">类生命周期机制和加载机制 </h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Sat, Aug 12, 2023</span>
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--brown">
            <a href="tag/JVM.html">JVM</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/5b24cbd7f974465390b866d2e77808b1" class="PageRoot"><ul id="https://www.notion.so/488a0959e28a4295851c29e309d05802" class="ColorfulBlock ColorfulBlock--ColorGray TableOfContents"><li class="TableOfContents__Item"><a href="#https://www.notion.so/abdca99563594efc8c898cb18cf0cec3"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">程序员写出各种java文件 通过编译器编译成class字节码文件</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/a9d9dcc0e9d14084815d0a48b9ecd884"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">加载器加载类库，拓展类自己我们自己程序中的class字节码文件</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/b8bc8d1160d846b693a8dc56ede4d36a"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">垃圾回收时刻检测堆内存中是否有未被栈内存中成员变量指向的对象</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/36bbbc47530b4b728c8b23b913515e9b"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">类的加载时机</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e8e8efa105b046529cc5777968099e86"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">Java类的生命周期</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/5eb54014f1a64ce892ce3519d9164e87"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">注意是顺序开始，不是顺序完成</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/c844110285ee4da79a1a5865464bdf48"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">类生命周期详细过程</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/bef7935ee15c49d49d9ecc93627b30b3"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">加载</strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/dacc909cfdcf4c0c945529380a13e6d1"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">通过堆中的对象访问方法区中的类数据结构</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/89c609601ff14e0a9dd515d75c247498"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">链接</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/2d194b6887d5465ba782d24476d069f3"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">为静态变量分配内存，并将其初始化为默认值。这些内存都在方法区内分配 </span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/06428c9faa7d4102b6085d1423dfec37"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">验证</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/ed980cf20659463faf04002b9fdaddf1"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">准备</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/376ff0b59b934cf9952e31ff9318f1b4"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">解析</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/8ad952e0182642ec94eee95c8db655c7"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">初始化</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/18be511f19244997b2a3c1ab3f5c66e0"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">只有当对类的主动使用，才会导致类的初始化</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/52e80b28629646a691b3df9e45a7bf9d"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">使用</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/2b4d9c9547bb48dba020f5c762b3a183"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">卸载</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/4033cf545b1e45e2b86b89109cf2d4ee"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">JIT即时编辑器</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/d7f1c34c70ac431e82ff3f0ead1f9932"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">如何将类加载到JVM-类加载器</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/4108ca91c4254f23bdab82bbc6a832ca"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">类加载机制</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/1c11f6cc5cf143be99e5970706ff18c8"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">全盘负责</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/d68da24493e34281a9cefa8867db0949"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">父类委托</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/1fa7f9f0442f45f08308a43f9462e924"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">缓存机制</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/9b815a8971b54307a9817678ef0fe966"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">双亲委派机制</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/a15e37e69faf42c6b06d7669f871a75d"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">
自定义类加载器实现</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e231cf49cc244659b864b6427d189259"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">常用来加载网络传输来的字节码，因为该字节码可能加密，无法被正常加载</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/aa97ac450d2049348a1612a56f7f3eec"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">列举一些打破双亲委派机制的例子，为什么要打破？
tomcat</span></span></div></a></li></ul><h2 id="https://www.notion.so/abdca99563594efc8c898cb18cf0cec3" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/abdca99563594efc8c898cb18cf0cec3"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">程序员写出各种java文件 通过编译器编译成class字节码文件</span></span></h2><div id="https://www.notion.so/f2a121c344db4bdeb38085acbef68e84" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">.java文件是由Java源码编译器来完成的</span></span></p></div><div id="https://www.notion.so/5d8e18bd50474cb7b13cc9044de4dc1e" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">由一下三个过程组成</span></span></p><div class="Text__Children"><div id="https://www.notion.so/179ebfd7c960489a8d4d857daa8826d9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">分析和输入到符号表</span></span></p></div><div id="https://www.notion.so/00bd1f5ef57f45ceb696a2b727474eca" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">注解处理</span></span></p></div><div id="https://www.notion.so/c3d132833dbe4eec997c33b71115a48a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">语义分析和生成class文件</span></span></p></div></div></div><div id="https://www.notion.so/a98148efd96e4ec58ddf2f2c8b681c51" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h3 id="https://www.notion.so/a9d9dcc0e9d14084815d0a48b9ecd884" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/a9d9dcc0e9d14084815d0a48b9ecd884"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">加载器加载类库，拓展类自己我们自己程序中的class字节码文件</span></span></h3><div id="https://www.notion.so/0ccacddcc12b49ad97ae1662900f70fd" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在运行时会首先去让最顶层的父层 启动类加载器（BootStrap ClassLoader）去java的lib包下加载核心类库。然后通过 Extension ClassLoader 扩展类加载器 在lib/ext下加载扩展类    ，再然后通过Application ClassLoader应用程序类加载器 加载我们自己的java程序中的class字节码文件 。。。。。其中加载过程中会有双亲委派机制，就是当前应用程序类加载器向上层父级扩展类中找寻是否该类应由其执行，扩展类加载器在向上。到达启动类加载器去核心类库中找寻是否是自己的类。如果是则有自己进行类加载进jvm内存方法区中。如果没有则再向下进行委派。直到找到是属于各级加载器自己的类。如果每一层都没有。那么由发起方自己去执行该类（类加载进方法区）
加载到JVM方法区，之后会被字节码引擎执行字节码指令进行各种操作</span></span></p></div><h3 id="https://www.notion.so/b8bc8d1160d846b693a8dc56ede4d36a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/b8bc8d1160d846b693a8dc56ede4d36a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">垃圾回收时刻检测堆内存中是否有未被栈内存中成员变量指向的对象</span></span></h3><div id="https://www.notion.so/5849686ac9ae41d1b842e24e888136a6" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F48a7112d-9f02-4589-9c0f-1bf02625b1bc%2FUntitled.png?width=812&amp;table=block&amp;id=5849686a-c9ae-41d1-b842-e24e888136a6"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F48a7112d-9f02-4589-9c0f-1bf02625b1bc%2FUntitled.png?width=812&amp;table=block&amp;id=5849686a-c9ae-41d1-b842-e24e888136a6" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/f34584ac88914fd6a330022ee6d9435f" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/36bbbc47530b4b728c8b23b913515e9b" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/36bbbc47530b4b728c8b23b913515e9b"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">类的加载时机</span></span></h1><div id="https://www.notion.so/08cc4e7fcdc34d0297128920eefd7763" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">只有5种情况，必须立即对类进行“初始化”（某种程度上是加载类的时机）</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/c93154fc27dc49509168b976e509b6c9" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">创建类的实例(new 的方式)。访问某个类或接口的静态变量，或者对该静态变量赋值，调用类的静态方法</span></span><div id="https://www.notion.so/df7df94f06534ddb8600972ec6813d8a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">遇到 new、getstatic、putstatic、invokestatic 这四条字节码指令时，如果类没有进行过初始化，则必须先触发其初始化。最常见的生成这 4 条指令的场景是：使用 new 关键字实例化对象的时候；读取或设置一个类的静态字段（被 final 修饰、已在编译期把结果放入常量池的静态字段除外）的时候；以及调用一个类的静态方法的时候。</span></span></p></div></li><li id="https://www.notion.so/dcc95bc3756d4a0ca12bf6adf47fd917" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">反射的方式</span></span></li><li id="https://www.notion.so/f80b8b9f22984b279a64b55f6c13e5c0" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">初始化某个类的子类，则其父类也会被初始化</span></span></li><li id="https://www.notion.so/be0abd3a36c94c8ab68f963345ceac3a" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Java虚拟机启动时被标明为启动类的类，直接使用java.exe命令来运行某个主类（包含main方法的那个类）</span></span></li><li id="https://www.notion.so/2355435fa4c54c1eb13f0dc4fb63b48b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">当使用JDK1.7的动态语言支持时(....)</span></span></li></ul><div id="https://www.notion.so/cb0508c1a86844e1b2184c68ed6739f6" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/44065543cca848e0b563c5f75ebe0e23" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">所以说：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/0cfbbf5b3ee84b09a6e460737bc917a3" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Java类的加载是动态的，它并不会一次性将所有类全部加载后再运行，而是保证程序运行的基础类(像是基类)完全加载到jvm中，至于其他类，</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">则在需要的时候才加载</strong></span><span class="SemanticString">。这当然就是为了</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">节省内存开销</strong></span><span class="SemanticString">。</span></span></li></ul><h1 id="https://www.notion.so/e8e8efa105b046529cc5777968099e86" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/e8e8efa105b046529cc5777968099e86"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Java类的生命周期</span></span></h1><div id="https://www.notion.so/c9dc18761d4542f8b968e397b95c63d2" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F3bab8875-42c2-44f9-ae4c-41c3d0818380%2FUntitled.png?width=1868&amp;table=block&amp;id=c9dc1876-1d45-42f8-b968-e397b95c63d2"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F3bab8875-42c2-44f9-ae4c-41c3d0818380%2FUntitled.png?width=1868&amp;table=block&amp;id=c9dc1876-1d45-42f8-b968-e397b95c63d2" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h3 id="https://www.notion.so/5eb54014f1a64ce892ce3519d9164e87" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/5eb54014f1a64ce892ce3519d9164e87"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">注意是顺序开始，不是顺序完成</span></span></h3><h1 id="https://www.notion.so/c844110285ee4da79a1a5865464bdf48" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/c844110285ee4da79a1a5865464bdf48"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">类生命周期详细过程</span></span></h1><div id="https://www.notion.so/c98157bcc9f5477b8d465732e5a35466" class="Bookmark"><a href="https://juejin.cn/post/7027347671211835400#heading-3"><h5 class="Bookmark__Title">Java JVM的类加载过程详解 - 掘金</h5><p class="Bookmark__Desc">本文深入介绍Java的类加载过程：加载（Loading）、验证（Verification）、准备（Preparation）、解析（Resolution）、初始化（Initialization）。</p><p class="Bookmark__Link">https://juejin.cn/post/7027347671211835400#heading-3</p></a></div><div id="https://www.notion.so/247b93ca91ba4e719b9203fa12dbb273" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">加载器加载到jvm中，接下来其实又分了</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">好几个步骤:</strong></span></span></p></div><h2 id="https://www.notion.so/bef7935ee15c49d49d9ecc93627b30b3" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/bef7935ee15c49d49d9ecc93627b30b3"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">加载</strong></span></span></h2><div id="https://www.notion.so/77665e7f4fa64cc9ad32fd1f2d3ea828" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">查找并加载类的二进制数据，在Java堆中也</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">创建一个java.lang.Class类的对象</strong></span></span></p></div><div id="https://www.notion.so/bfc000ca3c074a93bdb111a68de28e70" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">加载过程完成以下三件事：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/9c38300ef26a41f8b9d9de0c94b04be4" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">通过类的完全限定名称获取定义该类的二进制字节流。</span></span></li><li id="https://www.notion.so/15822ce8b0a94354beb9161b94bc1350" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">将该字节流表示的静态存储结构转换为方法区的运行时存储结构。</span></span></li><li id="https://www.notion.so/3ee4cb3603454f20a8d2f89a05329f07" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在内存中生成一个代表该类的 Class 对象，作为方法区中该类各种数据的访问入口。</span></span></li></ul><h3 id="https://www.notion.so/dacc909cfdcf4c0c945529380a13e6d1" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/dacc909cfdcf4c0c945529380a13e6d1"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">通过堆中的对象访问方法区中的类数据结构</span></span></h3><div id="https://www.notion.so/c135b27400f543418806427c392eca2c" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F85fc1d45-bdc7-46ed-8867-92b174fa5186%2FUntitled.png?width=631&amp;table=block&amp;id=c135b274-00f5-4341-8806-427c392eca2c"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F85fc1d45-bdc7-46ed-8867-92b174fa5186%2FUntitled.png?width=631&amp;table=block&amp;id=c135b274-00f5-4341-8806-427c392eca2c" style="width:631px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/89c609601ff14e0a9dd515d75c247498" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/89c609601ff14e0a9dd515d75c247498"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">链接</span></span></h2><h3 id="https://www.notion.so/2d194b6887d5465ba782d24476d069f3" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/2d194b6887d5465ba782d24476d069f3"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">为静态变量分配内存，并将其初始化为默认值。这些内存都在方法区内分配 </span></span></h3><div id="https://www.notion.so/7db6ef4144cf4129a2df82cfe8c72baf" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">连接又包含三块内容：验证、准备、解析。     </span></span></p></div><h3 id="https://www.notion.so/06428c9faa7d4102b6085d1423dfec37" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/06428c9faa7d4102b6085d1423dfec37"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">验证</span></span></h3><div id="https://www.notion.so/1ff792c9da61440a883785f80a809e19" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">验证被加载类的正确性</span></span></p></div><div id="https://www.notion.so/ef0819e19c86429facbd2ebad5fb0e20" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Faa11695e-c887-46c9-88d7-22a1bffd44c7%2FUntitled.png?width=1535&amp;table=block&amp;id=ef0819e1-9c86-429f-acbd-2ebad5fb0e20"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Faa11695e-c887-46c9-88d7-22a1bffd44c7%2FUntitled.png?width=1535&amp;table=block&amp;id=ef0819e1-9c86-429f-acbd-2ebad5fb0e20" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h3 id="https://www.notion.so/ed980cf20659463faf04002b9fdaddf1" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/ed980cf20659463faf04002b9fdaddf1"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">准备</span></span></h3><div id="https://www.notion.so/0d1f5eca1ceb4760a97595c9b386fa95" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">为类的静态变量分配内存，并将其初始化为默认值</span></span></p></div><div id="https://www.notion.so/b1f55dbafc0e45f7801806f7ff195722" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F435639dd-8bf2-417f-a991-d12a93155cf7%2FUntitled.png?width=1930&amp;table=block&amp;id=b1f55dba-fc0e-45f7-8018-06f7ff195722"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F435639dd-8bf2-417f-a991-d12a93155cf7%2FUntitled.png?width=1930&amp;table=block&amp;id=b1f55dba-fc0e-45f7-8018-06f7ff195722" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/d85287967bcc45698b6cd0ad91b45b3e" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F8bb221fe-32b5-47f3-8284-42814925b0dc%2FUntitled.png?width=1542&amp;table=block&amp;id=d8528796-7bcc-4569-8b6c-d0ad91b45b3e"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F8bb221fe-32b5-47f3-8284-42814925b0dc%2FUntitled.png?width=1542&amp;table=block&amp;id=d8528796-7bcc-4569-8b6c-d0ad91b45b3e" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h3 id="https://www.notion.so/376ff0b59b934cf9952e31ff9318f1b4" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/376ff0b59b934cf9952e31ff9318f1b4"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">解析</span></span></h3><div id="https://www.notion.so/3cbf62d912c249b3a7df11974093c59e" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">把类中的符号引用转换为直接引用</span></span></p></div><h2 id="https://www.notion.so/8ad952e0182642ec94eee95c8db655c7" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/8ad952e0182642ec94eee95c8db655c7"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">初始化</span></span></h2><div id="https://www.notion.so/e9db47263d9540e8bd70a48e66da746a" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">为类的静态变量赋予正确的初始值。</span></span></p></div><div id="https://www.notion.so/f36d55ca67b34d67b4119450d676e92f" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">初始化阶段才真正开始执行类中定义的 Java 程序代码。初始化阶段是虚拟机执行类构造器 &lt;clinit\&gt;() 方法的过程。在准备阶段，类变量已经赋过一次系统要求的初始值，而在初始化阶段，根据程序员通过程序制定的主观计划去初始化类变量和其它资源。</span></span></p></div><h3 id="https://www.notion.so/18be511f19244997b2a3c1ab3f5c66e0" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/18be511f19244997b2a3c1ab3f5c66e0"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">只有当对类的主动使用，才会导致类的初始化</span></span></h3><div id="https://www.notion.so/1aadcf75258346dbb26536c03a8ebb49" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/1e5a5fe711e44a8594bac2d774ebc84d" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2b0d72e9-6a11-4078-83d0-7f5b5a67de63%2FUntitled.png?width=811&amp;table=block&amp;id=1e5a5fe7-11e4-4a85-94ba-c2d774ebc84d"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2b0d72e9-6a11-4078-83d0-7f5b5a67de63%2FUntitled.png?width=811&amp;table=block&amp;id=1e5a5fe7-11e4-4a85-94ba-c2d774ebc84d" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/52e80b28629646a691b3df9e45a7bf9d" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/52e80b28629646a691b3df9e45a7bf9d"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">使用</span></span></h2><h2 id="https://www.notion.so/2b4d9c9547bb48dba020f5c762b3a183" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/2b4d9c9547bb48dba020f5c762b3a183"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">卸载</span></span></h2><div id="https://www.notion.so/4f5af77a7a094efe8933bd6fdeaff8f5" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/4033cf545b1e45e2b86b89109cf2d4ee" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/4033cf545b1e45e2b86b89109cf2d4ee"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">JIT即时编辑器</span></span></h2><div id="https://www.notion.so/6b4a93e6de7244138640e02274461896" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">一般我们可能会想：JVM在加载了这些class文件以后，针对这些字节码，</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">逐条取出，逐条执行</strong></span><span class="SemanticString">--&gt;解析器解析。</span></span></p></div><div id="https://www.notion.so/52f8475b8d1d4984aed44bfad4be1e12" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">但如果是这样的话，那就</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">太慢</strong></span><span class="SemanticString">了！</span></span></p></div><div id="https://www.notion.so/4f36b2e5782c41e48eb084fbd568a573" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">我们的JVM是这样实现的：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/6a5610fbfff840f7a4843a4b0f893e99" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">就是把这些Java字节tomcat</span></span></li><li id="https://www.notion.so/429d6c99e4594c1abfa10a50b5683f9d" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">编译也是要花费时间的，我们一般对</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">热点代码</strong></span><span class="SemanticString">做编译，</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">非热点代码直接解析</strong></span><span class="SemanticString">就好了。</span></span></li></ul><div id="https://www.notion.so/f832ac363d7b4f2da683f10c7489e817" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/d7f1c34c70ac431e82ff3f0ead1f9932" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/d7f1c34c70ac431e82ff3f0ead1f9932"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">如何将类加载到JVM-类加载器</span></span></h1><div id="https://www.notion.so/7d0e4bb6e562410fbfcc3a987325580d" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">class文件是通过类的加载器装载到jvm中的</span></span></p></div><div id="https://www.notion.so/438d0f9adade446da724601f200fea33" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">有默认三种类加载器</span></span></p></div><div id="https://www.notion.so/53ac054bed344f8093de4ef71121c40f" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F8626dcee-b5ac-4942-9e68-78f68e4b701d%2FUntitled.png?width=512&amp;table=block&amp;id=53ac054b-ed34-4f80-93de-4ef71121c40f"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F8626dcee-b5ac-4942-9e68-78f68e4b701d%2FUntitled.png?width=512&amp;table=block&amp;id=53ac054b-ed34-4f80-93de-4ef71121c40f" style="width:512px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/c886bce538dc4ecfb72490efff001641" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">各个加载器的工作责任：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/d91f40e6823145ef978a20451d4d93af" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">1）Bootstrap ClassLoader：负责加载$JAVA_HOME中jre/lib/</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">rt.jar</strong></span><span class="SemanticString">里所有的class，由C++实现，不是ClassLoader子类</span></span></li><li id="https://www.notion.so/dea2662fa7244521bad25621777b90ff" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">2）Extension ClassLoader：负责加载java平台中</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">扩展功能</strong></span><span class="SemanticString">的一些jar包，包括$JAVA_HOME中jre/lib/ext/*.jar或-Djava.ext.dirs指定目录下的jar包</span></span></li><li id="https://www.notion.so/841dc693656f43d788ea24cff0eb46ae" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">3）App ClassLoader：负责记载</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">classpath</strong></span><span class="SemanticString">中指定的jar包及目录中class</span></span></li></ul><div id="https://www.notion.so/bd81bbf98f5742b986f43bffebe3f431" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">工作过程：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/9ef698177c1f4d0fa25c81ab1a35000b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">1、当AppClassLoader加载一个class时，它首先不会自己去尝试加载这个类，而是把类加载请求委派给父类加载器ExtClassLoader去完成。</span></span></li><li id="https://www.notion.so/23046476b32f452db46dffac7d2f7ede" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">2、当ExtClassLoader加载一个class时，它首先也不会自己去尝试加载这个类，而是把类加载请求委派给BootStrapClassLoader去完成。</span></span></li><li id="https://www.notion.so/b6d29150904d4251bff9de9e3efa7b34" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">3、如果BootStrapClassLoader加载失败（例如在$JAVA_HOME/jre/lib里未查找到该class），会使用ExtClassLoader来尝试加载；</span></span></li><li id="https://www.notion.so/550e1850893f4e1b9489ed853a297cbb" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">4、若ExtClassLoader也加载失败，则会使用AppClassLoader来加载</span></span></li><li id="https://www.notion.so/7a28218902c745f48a826313994b314e" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">5、如果AppClassLoader也加载失败，则会报出异常ClassNotFoundException</span></span></li></ul><div id="https://www.notion.so/3d239ba92ba443fab59df5d2a6457169" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">其实这就是所谓的</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">双亲委派模型</strong></span><span class="SemanticString">。简单来说：如果一个类加载器收到了类加载的请求，它首先不会自己去尝试加载这个类，而是把</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">请求委托给父加载器去完成，依次向上</strong></span><span class="SemanticString">。</span></span></p></div><div id="https://www.notion.so/780b0eadb8b749b1ad175a425ae547cd" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">好处：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/5fb472e38ae74b24b22a861c51db0d4d" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">防止内存中出现多份同样的字节码</strong></span><span class="SemanticString">(安全性角度)</span></span></li></ul><div id="https://www.notion.so/28cab09639c743c28c0e409631d82a3e" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">特别说明：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/3d6655fd75114e2e9ce168ddc3ec3f34" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">类加载器在成功加载某个类之后，会把得到的 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">java.lang.Class</code></span><span class="SemanticString">类的实例缓存起来。下次再请求加载该类的时候，类加载器会直接使用缓存的类的实例，而</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">不会尝试再次加载</strong></span><span class="SemanticString">。</span></span></li></ul><h2 id="https://www.notion.so/4108ca91c4254f23bdab82bbc6a832ca" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/4108ca91c4254f23bdab82bbc6a832ca"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">类加载机制</span></span></h2><h3 id="https://www.notion.so/1c11f6cc5cf143be99e5970706ff18c8" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/1c11f6cc5cf143be99e5970706ff18c8"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">全盘负责</span></span></h3><div id="https://www.notion.so/7753f45523774f33b79c59edd3f885cd" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Class所依赖的和引用的其他class也将由该类加载器加载</span></span></p></div><h3 id="https://www.notion.so/d68da24493e34281a9cefa8867db0949" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/d68da24493e34281a9cefa8867db0949"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">父类委托</span></span></h3><div id="https://www.notion.so/2ac54fe9642c43278ef1c9960e2788b1" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">先让父类加载器试图加载该类</span></span></p></div><h3 id="https://www.notion.so/1fa7f9f0442f45f08308a43f9462e924" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/1fa7f9f0442f45f08308a43f9462e924"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">缓存机制</span></span></h3><div id="https://www.notion.so/0f393edbf66c4e8f8d29442353eac423" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">缓存机制将会保</span></span></p></div><div id="https://www.notion.so/2c05e492615345bcb8cebc079a19bbed" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">缓存机制将会保证所有加载过的Class都会被缓存，当程序中需要使用某个Class时，类加载器先从缓存区寻找该Class，只有缓存区不存在，系统才会读取该类对应的二进制数据，并将其转换成Class对象，存入缓存区。这就是为什么修改了Class后，必须重启JVM，程序的修改才会生效</span></span></p></div><h3 id="https://www.notion.so/9b815a8971b54307a9817678ef0fe966" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/9b815a8971b54307a9817678ef0fe966"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">双亲委派机制</span></span></h3><div id="https://www.notion.so/409fa4fedcb945cc8be38b7a7efe1a83" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">如果一个类加载器收到了类加载的请求，它首先不会自己去尝试加载这个类，而是把请求委托给父加载器去完成，依次向上，因此，所有的类加载请求最终都应该被传递到顶层的启动类加载器中，只有当父加载器在它的搜索范围中没有找到所需的类时，即无法完成该加载，子加载器才会尝试自己去加载该类。</span></span></p></div><div id="https://www.notion.so/b7b39ba912d5424e93aa3dbd03f92555" class="Divider"></div><div id="https://www.notion.so/ecc5506e74ae4d71bd9686d1c30cce6e" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">著作权归@pdai所有 原文链接：https://pdai.tech/md/java/jvm/java-jvm-classload.html</span></span></p></div><div id="https://www.notion.so/8507c962d4164ef8989106f47fe23ac1" class="Divider"></div><h2 id="https://www.notion.so/a15e37e69faf42c6b06d7669f871a75d" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/a15e37e69faf42c6b06d7669f871a75d"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">
自定义类加载器实现</span></span></h2><div id="https://www.notion.so/6123becbd7274300a1a8f6970c9f83e4" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">继承自 java.lang.ClassLoader，用于加载文件系统上的类。它首先根据类的全名在文件系统上查找类的字节代码文件（.class 文件），然后读取该文件内容，最后通过 defineClass() 方法来把这些字节代码转换成 java.lang.Class 类的实例。</span></span></p></div><div id="https://www.notion.so/a1bd683d13ca4ba5b50a3af15c34aa7c" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">java.lang.ClassLoader 的 loadClass() 实现了双亲委派模型的逻辑，自定义类加载器一般不去重写它，但是需要重写 findClass() 方法。</span></span></p></div><div id="https://www.notion.so/6f7f4d0f0ac74749ab20f0fda6a2d924" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h3 id="https://www.notion.so/e231cf49cc244659b864b6427d189259" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/e231cf49cc244659b864b6427d189259"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">常用来加载网络传输来的字节码，因为该字节码可能加密，无法被正常加载</span></span></h3><h2 id="https://www.notion.so/aa97ac450d2049348a1612a56f7f3eec" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/aa97ac450d2049348a1612a56f7f3eec"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">列举一些打破双亲委派机制的例子，为什么要打破？
tomcat</span></span></h2><div id="https://www.notion.so/e718f40231444054b36677c2f5797650" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">应用的类记载器优先自行加载应用目录下的class，并不是先委派给父加载器，记载不了才委派给父加载器</span></span></p></div><div id="https://www.notion.so/fb0b36f067f44ba483284b6793346e10" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F0869e709-c317-4ce0-b7c3-1e1a16972ee1%2FUntitled.png?width=839&amp;table=block&amp;id=fb0b36f0-67f4-4ba4-8328-4b6793346e10"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F0869e709-c317-4ce0-b7c3-1e1a16972ee1%2FUntitled.png?width=839&amp;table=block&amp;id=fb0b36f0-67f4-4ba4-8328-4b6793346e10" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div></article>
  <footer class="Footer">
  <div>&copy; 沂风 2022</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>