<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>键入网址到网页显示，期间发生了什么 &nbsp;|&nbsp;沂风</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="键入网址到网页显示，期间发生了什么 ">
  
    <meta name="description" content="网络基础">
    <meta property="og:description" content="网络基础">
  
  
    <meta property="og:image" content="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🎆&lt;/text&gt;&lt;/svg&gt;">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;😀&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>关于</span>
        </div>
      </a>
    
  
    
  
    
  
</nav>
  <header class="Header">
    
      <div class="Header__Cover">
        <img src="https://www.notion.so/images/page-cover/met_silk_kashan_carpet.jpg">
      </div>
    
    <div class="Header__Spacer ">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🎆&lt;/text&gt;&lt;/svg&gt;"></span>
      </div>
    
    <h1 class="Header__Title">键入网址到网页显示，期间发生了什么 </h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Fri, Aug 11, 2023</span>
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--green">
            <a href="tag/Web.html">Web</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/fe858c8f8ba14528893046e1e4000034" class="PageRoot"><ul id="https://www.notion.so/c7ff569072c8455d9e612682a99e3414" class="ColorfulBlock ColorfulBlock--ColorGray TableOfContents"><li class="TableOfContents__Item"><a href="#https://www.notion.so/b6d3d1a9b7df46f6bd27031f1b94e981"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">查找缓存（以及页面）</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/1219281b9591471c8a77048f35f5026d"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">处理键入的HTTP URL（网络层）利用URL寻找到IP地址</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/9fc2dbab81e1471ea00710503b4a8d28"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">查询服务器域名对应的IP地址（DNS解析）</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/8e996aa470434fdaa6be80173d294c35"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">浏览器不能直接通过域名找到ID地址</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/a7fb7172856947e2aaa53ac759cf42e6"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">操作系统利用获取的IP地址，执行收发数据的操作（传输层，网络层）（发送Http请求）</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/2dd2ec6305464b629a43f1efbedd0047"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">向服务器的80端口发送TCP连接请求（HTTP，HTTPS为443端口）</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/ea43b2ee50b44bd3b16a5c49eb34c703"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">TCP三次握手建立链接</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/8ee571af55bd4e51a76dd8a0892e18a7"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">如果握手成功，则会发送HTTP请求，来请求服务端的数据包</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/c94fca2cee8f4034862ca9eb1f3e4d86"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">TLS协商</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/4a8b8baf457446f2b40a7aaf10ddcc6f"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">服务端处理请求</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/caefdd72296d4ceb8e7e730bcc4d4ccf"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">服务器针对初始的HTTP GET请求的响应</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e8f2744eb2774ee09cea8b319c26a8e4"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">服务器返回一个 HTTP 响应</strong></strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e5d157ce25d64ec393d8b15997f99e27"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">浏览器针对返回的信息渲染页面</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/82cf27ca50ec4719aafc023022a06186"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">TCP四次挥手关闭链接</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/69e266b0b60b42739423a3ef0a28f3bd"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">数据分析：信息传递具体操作</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/1531cc96053d45efaf80d7e22abeeb12"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">建立TCP链接</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/c949ab514dbd4e9cb2eeeabebe73f1df"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">TCP分割数据</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/fb899e771a764a0a82317c66570da017"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">TCP链接阶段的报文</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/6e9fbbc20c8145e486c49448c0ed0986"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">网络层部分-IP协议</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/ebfd8a45938d4ac9b56c1cce3e2dc34c"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">IP协议阶段报文</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/4c822a3345404e7c80efdf9b40c8a087"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">两点传输-MAC（数据链路层，物理层）</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e3bb8d13c49f4b33a148ca725789fd63"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">在网络结构中传输</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e4dec55bdb634ec99d35dfe9321e8093"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">一次HTTP请求的报文</span></span></div></a></li></ul><h1 id="https://www.notion.so/b6d3d1a9b7df46f6bd27031f1b94e981" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/b6d3d1a9b7df46f6bd27031f1b94e981"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">查找缓存（以及页面）</span></span></h1><h1 id="https://www.notion.so/1219281b9591471c8a77048f35f5026d" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/1219281b9591471c8a77048f35f5026d"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">处理键入的HTTP URL（网络层）利用URL寻找到IP地址</span></span></h1><ul class="BulletedListWrapper"><li id="https://www.notion.so/c4a699545b7341fda394e2adc98684c5" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">当我们开始在浏览器中输入网址的时候，浏览器其实就已经在智能的匹配可能得 url 了，他会从历史记录，书签等地方，找到已经输入的字符串可能对应的 url，然后给出智能提示，让你可以补全url地址。对于 google的chrome 的浏览器，他甚至会直接从缓存中把网页展示出来，就是说，你还没有按下 enter，页面就出来了。</span></span></li><li id="https://www.notion.so/073432b68f19483aae56ce2d89162db7" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">分析键入的URL，知晓请求的是哪个文件资源以及目标Web服务器</strong></span></span></li></ul><h2 id="https://www.notion.so/9fc2dbab81e1471ea00710503b4a8d28" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/9fc2dbab81e1471ea00710503b4a8d28"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">查询服务器域名对应的IP地址（DNS解析）</span></span></h2><h3 id="https://www.notion.so/8e996aa470434fdaa6be80173d294c35" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/8e996aa470434fdaa6be80173d294c35"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">浏览器不能直接通过域名找到ID地址</span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/9e8ce65b6b004cc4aea88dff3e2cb7ae" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">域名解析流程</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/d1eb9d65a0a44336a270b5325e630cd9" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">查找缓存</span></span></li><li id="https://www.notion.so/3e0d421e478140ecbbd0489d2d64d773" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">发送DNS请求，优先发送本地DNS服务器，查看缓存中是否有相关信息</span></span></li><li id="https://www.notion.so/cf77435deb914ace8fb628561bca370f" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">没有缓存的话，询问根域名服务器，根域名服务器向下传递</span></span></li><li id="https://www.notion.so/50cee3cfe35d4a9e85fafb3cdd4a1d63" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">最终得到IP地址，并将IP地址返回客户端。并在本地DNS服务器生成缓存</span></span></li></ul><div id="https://www.notion.so/9afd8e177c0440a8a829665bbb4fbfe1" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F3b7eea8c-9da2-4d46-a26a-cefdf013f98a%2FUntitled.png?width=1328&amp;table=block&amp;id=9afd8e17-7c04-40a8-a829-665bbb4fbfe1"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F3b7eea8c-9da2-4d46-a26a-cefdf013f98a%2FUntitled.png?width=1328&amp;table=block&amp;id=9afd8e17-7c04-40a8-a829-665bbb4fbfe1" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div></li></ul><div id="https://www.notion.so/1be38778cdc84abf93dd5f6b0a4e6d0f" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F650fb55c-16b3-4db9-bd0a-19fbe704d264%2FUntitled.png?width=1570&amp;table=block&amp;id=1be38778-cdc8-4abf-93dd-5f6b0a4e6d0f"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F650fb55c-16b3-4db9-bd0a-19fbe704d264%2FUntitled.png?width=1570&amp;table=block&amp;id=1be38778-cdc8-4abf-93dd-5f6b0a4e6d0f" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h1 id="https://www.notion.so/a7fb7172856947e2aaa53ac759cf42e6" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/a7fb7172856947e2aaa53ac759cf42e6"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">操作系统利用获取的IP地址，执行收发数据的操作（传输层，网络层）（发送Http请求）</span></span></h1><h3 id="https://www.notion.so/2dd2ec6305464b629a43f1efbedd0047" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/2dd2ec6305464b629a43f1efbedd0047"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">向服务器的80端口发送TCP连接请求（HTTP，HTTPS为443端口）</span></span></h3><h2 id="https://www.notion.so/ea43b2ee50b44bd3b16a5c49eb34c703" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/ea43b2ee50b44bd3b16a5c49eb34c703"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">TCP三次握手建立链接</span></span></h2><div id="https://www.notion.so/8746b942627844e3ac40c366052db0b8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">拿到域名对应的IP地址之后，浏览器会以一个随机端口（1024&lt;端口&lt;65535）向服务器的WEB程序（常用的有httpd,nginx等）80端口发起TCP的连接请求。这个连接请求到达服务器端后（这中间通过各种路由设备，局域网内除外），进入到网卡，然后是进入到内核的TCP/IP协议栈（用于识别该连接请求，解封包，一层一层的剥开），还有可能要经过Netfilter防火墙（属于内核的模块）的过滤，最终到达WEB程序，最终建立了TCP/IP的连接。</span></span></p></div><h1 id="https://www.notion.so/8ee571af55bd4e51a76dd8a0892e18a7" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/8ee571af55bd4e51a76dd8a0892e18a7"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">如果握手成功，则会发送HTTP请求，来请求服务端的数据包</span></span></h1><h2 id="https://www.notion.so/c94fca2cee8f4034862ca9eb1f3e4d86" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/c94fca2cee8f4034862ca9eb1f3e4d86"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">TLS协商</span></span></h2><div id="https://www.notion.so/93955105c5cb4852baccd6dfe9e09a2d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">如果使用的https协议，则会在TCP和HTTP协议之间多一层安全检查，包括TLS和SSL协议</span></span></p></div><div id="https://www.notion.so/c1bd669decb947168ba1f6b5b77ff497" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F9e8c8ab6-f75d-47e4-94d6-747ad9191ec4%2FUntitled.png?width=1038&amp;table=block&amp;id=c1bd669d-ecb9-4716-8ba1-f6b5b77ff497"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F9e8c8ab6-f75d-47e4-94d6-747ad9191ec4%2FUntitled.png?width=1038&amp;table=block&amp;id=c1bd669d-ecb9-4716-8ba1-f6b5b77ff497" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/4a8b8baf457446f2b40a7aaf10ddcc6f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/4a8b8baf457446f2b40a7aaf10ddcc6f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">服务端处理请求</span></span></h2><div id="https://www.notion.so/7046bb7712f3454c8f5f30e874a5fe5b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">一些大一点的网站会将你的请求到反向代理服务器中，因为当网站访问量非常大，网站越来越慢，一台服务器已经不够用了。于是将同一个应用部署在多台服务器上，将大量用户的请求分配给多台机器处理。</span></span></p></div><div id="https://www.notion.so/d79c54e61dc3488e9912c6e584957024" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">此时，客户端不是直接通过HTTP协议访问某网站应用服务器，而是先请求到Nginx，Nginx再请求应用服务器，然后将结果返回给客户端，这里Nginx的作用是反向代理服务器。同时也带来了一个好处，其中一台服务器万一挂了，只要还有其他服务器正常运行，就不会影响用户使用。</span></span></p></div><div id="https://www.notion.so/a790539ea78b4007a90f7d970c383ade" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F0f05550a-1204-4f76-9281-1b8fdafbd1f7%2FUntitled.png?width=1470&amp;table=block&amp;id=a790539e-a78b-4007-a90f-7d970c383ade"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F0f05550a-1204-4f76-9281-1b8fdafbd1f7%2FUntitled.png?width=1470&amp;table=block&amp;id=a790539e-a78b-4007-a90f-7d970c383ade" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/caefdd72296d4ceb8e7e730bcc4d4ccf" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/caefdd72296d4ceb8e7e730bcc4d4ccf"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">服务器针对初始的HTTP GET请求的响应</span></span></h2><div id="https://www.notion.so/be1d9a2ffff84ddb932e9c9c94acb252" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fcc94ac6c-d43e-431b-8562-4f1a50a7b45e%2FUntitled.png?width=1057&amp;table=block&amp;id=be1d9a2f-fff8-4ddb-932e-9c9c94acb252"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fcc94ac6c-d43e-431b-8562-4f1a50a7b45e%2FUntitled.png?width=1057&amp;table=block&amp;id=be1d9a2f-fff8-4ddb-932e-9c9c94acb252" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/e8f2744eb2774ee09cea8b319c26a8e4" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/e8f2744eb2774ee09cea8b319c26a8e4"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">服务器返回一个 HTTP 响应</strong></strong></span></span></h2><div id="https://www.notion.so/ea8dfac1e0244424a503f04f254e1525" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">服务端把处理结果返回，即一个HTTP响应</span></span></p></div><h1 id="https://www.notion.so/e5d157ce25d64ec393d8b15997f99e27" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/e5d157ce25d64ec393d8b15997f99e27"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">浏览器针对返回的信息渲染页面</span></span></h1><h1 id="https://www.notion.so/82cf27ca50ec4719aafc023022a06186" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/82cf27ca50ec4719aafc023022a06186"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">TCP四次挥手关闭链接</span></span></h1><div id="https://www.notion.so/a01284133363496d9b11a16bbcf0a54f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/69e266b0b60b42739423a3ef0a28f3bd" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/69e266b0b60b42739423a3ef0a28f3bd"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">数据分析：信息传递具体操作</span></span></h1><ul class="BulletedListWrapper"><li id="https://www.notion.so/648899c0d1554420bafca9c297d364c2" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">当浏览器获取到IP地址之后，浏览器会用一个随机的端口向服务器80端口发起TCP链接请求。</span></span></li></ul><div id="https://www.notion.so/e8a0542aa1d947468cf42e6af49672b2" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb7bfd1ab-8e7f-45b7-981d-cf3ac72de992%2FUntitled.png?width=1348&amp;table=block&amp;id=e8a0542a-a1d9-4746-8cf4-2e6af49672b2"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb7bfd1ab-8e7f-45b7-981d-cf3ac72de992%2FUntitled.png?width=1348&amp;table=block&amp;id=e8a0542a-a1d9-4746-8cf4-2e6af49672b2" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/35e3ae2536a84e37917b7cc50e0cf1eb" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">利用操作系统中的协议栈进行传输</span></span><div id="https://www.notion.so/607d047f1dc34c84a72193320001a204" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc6b84f87-43c5-4772-a360-1d861890e040%2FUntitled.png?width=1276&amp;table=block&amp;id=607d047f-1dc3-4c84-a721-93320001a204"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc6b84f87-43c5-4772-a360-1d861890e040%2FUntitled.png?width=1276&amp;table=block&amp;id=607d047f-1dc3-4c84-a721-93320001a204" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div></li><li id="https://www.notion.so/70911067e97844eea027c2d38e0d9922" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">浏览器（应用程序）调用Socket库，委托协议栈工作</span></span></li><li id="https://www.notion.so/9c67e4b6381643c4a1e7eb7c09833da2" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">利用TCP和UDP协议进行传输</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/53882ff5dac94530a00420dde338eef7" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">双方建立了链接后，TCP协议会组装好TCP报文，交给网络层进行处理</span></span></li></ul></li><li id="https://www.notion.so/bf73baa85ac44822a34f43fe71e7e498" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">利用IP协议控制网络包的收发操作</span></span><ul class="BulletedListWrapper"><li id="https://www.notion.so/04eb73548336442eaf7620ed21856658" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">利用原地址IP和目标地址IP生成IP报文</span></span></li></ul></li></ul><h2 id="https://www.notion.so/1531cc96053d45efaf80d7e22abeeb12" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/1531cc96053d45efaf80d7e22abeeb12"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">建立TCP链接</span></span></h2><div id="https://www.notion.so/ca43acc460b948f7a04aacf5d058b4e5" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Faee88362-b081-461b-8e64-1769348e15fc%2FUntitled.png?width=816&amp;table=block&amp;id=ca43acc4-60b9-48f7-a04a-acf5d058b4e5"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Faee88362-b081-461b-8e64-1769348e15fc%2FUntitled.png?width=816&amp;table=block&amp;id=ca43acc4-60b9-48f7-a04a-acf5d058b4e5" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h3 id="https://www.notion.so/c949ab514dbd4e9cb2eeeabebe73f1df" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/c949ab514dbd4e9cb2eeeabebe73f1df"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">TCP分割数据</span></span></h3><div id="https://www.notion.so/91eb2e246b0e48cab92bf814c69a2f83" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fbd6eeceb-8cbd-4637-973c-756c87897b00%2FUntitled.png?width=809&amp;table=block&amp;id=91eb2e24-6b0e-48ca-b92b-f814c69a2f83"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fbd6eeceb-8cbd-4637-973c-756c87897b00%2FUntitled.png?width=809&amp;table=block&amp;id=91eb2e24-6b0e-48ca-b92b-f814c69a2f83" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h3 id="https://www.notion.so/fb899e771a764a0a82317c66570da017" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/fb899e771a764a0a82317c66570da017"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">TCP链接阶段的报文</span></span></h3><div id="https://www.notion.so/693edc91e9ef4dedb1bf86f0e2c6f5bd" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fa75a6608-648c-4b4c-9de8-9f5c37d34fcd%2FUntitled.png?width=846&amp;table=block&amp;id=693edc91-e9ef-4ded-b1bf-86f0e2c6f5bd"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fa75a6608-648c-4b4c-9de8-9f5c37d34fcd%2FUntitled.png?width=846&amp;table=block&amp;id=693edc91-e9ef-4ded-b1bf-86f0e2c6f5bd" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/6e9fbbc20c8145e486c49448c0ed0986" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/6e9fbbc20c8145e486c49448c0ed0986"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">网络层部分-IP协议</span></span></h2><div id="https://www.notion.so/1f132801d32f494d82e6123958b013a8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">传输层需要委托IP模块将数据封装成网络爆发送给通信对象</span></span></p></div><div id="https://www.notion.so/9d6529f819d849c992c7d6b68a336aab" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fff442892-555a-4e1b-a14a-e9949eae6c43%2FUntitled.png?width=864&amp;table=block&amp;id=9d6529f8-19d8-49c9-92c7-d6b68a336aab"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fff442892-555a-4e1b-a14a-e9949eae6c43%2FUntitled.png?width=864&amp;table=block&amp;id=9d6529f8-19d8-49c9-92c7-d6b68a336aab" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h3 id="https://www.notion.so/ebfd8a45938d4ac9b56c1cce3e2dc34c" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/ebfd8a45938d4ac9b56c1cce3e2dc34c"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">IP协议阶段报文</span></span></h3><div id="https://www.notion.so/606f8f83b7154978bf6d51a4aa542ab0" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F95391d11-869f-43dd-9265-6f3fae250776%2FUntitled.png?width=899&amp;table=block&amp;id=606f8f83-b715-4978-bf6d-51a4aa542ab0"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F95391d11-869f-43dd-9265-6f3fae250776%2FUntitled.png?width=899&amp;table=block&amp;id=606f8f83-b715-4978-bf6d-51a4aa542ab0" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/4c822a3345404e7c80efdf9b40c8a087" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/4c822a3345404e7c80efdf9b40c8a087"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">两点传输-MAC（数据链路层，物理层）</span></span></h2><ul class="BulletedListWrapper"><li id="https://www.notion.so/a6f1ead59da14eb4803c7c4f696998a8" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在IP地址头部的前面加上MAC头部</span></span><div id="https://www.notion.so/c27944e18ab148b8a8130912375018bb" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F866445c8-3475-453a-906c-c9aadc6afd74%2FUntitled.png?width=1320&amp;table=block&amp;id=c27944e1-8ab1-48b8-a813-0912375018bb"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F866445c8-3475-453a-906c-c9aadc6afd74%2FUntitled.png?width=1320&amp;table=block&amp;id=c27944e1-8ab1-48b8-a813-0912375018bb" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div></li><li id="https://www.notion.so/f0af8a01a14b4f0db2b4a81c2e3f2d1d" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">利用ARP协议帮助寻找路由器的MAC地址</span></span></li><li id="https://www.notion.so/5b2a44d0567b421799da7a1d1cb1ec78" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">成功生成MAC头部后，将数字信息转换为电信号</span></span></li></ul><div id="https://www.notion.so/a49e1051fee745ed81189ea5ad272146" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F542d3bd0-cc7b-4b74-822b-3d71c5bbdf56%2FUntitled.png?width=728&amp;table=block&amp;id=a49e1051-fee7-45ed-8118-9ea5ad272146"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F542d3bd0-cc7b-4b74-822b-3d71c5bbdf56%2FUntitled.png?width=728&amp;table=block&amp;id=a49e1051-fee7-45ed-8118-9ea5ad272146" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/e3bb8d13c49f4b33a148ca725789fd63" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/e3bb8d13c49f4b33a148ca725789fd63"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">在网络结构中传输</span></span></h2><ul class="BulletedListWrapper"><li id="https://www.notion.so/793c019d2f5e47a7a8d7904969863a57" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">通过交换机的MAC地址表中查询可能存在的MAC地址和端口，则可以利用交换机将信息发送到相应的端口</span></span></li><li id="https://www.notion.so/9aa7e61d33614b379d2f2a2f959e60d3" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">如果MAC地址表查找不到相关信息，则交换机将会把包转发到除了源端口以外的所有端口。这时就只有相应的接收者才会接收该包</span></span></li><li id="https://www.notion.so/401d87222eeb4159a70748c8a4577c0d" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">利用交换机到达路由器后，就离开了子网</span></span></li></ul><div id="https://www.notion.so/691a149a9b694567887847939ce0bc5f" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F69246471-de07-4ce7-b852-4bff1bd35340%2FUntitled.png?width=1354&amp;table=block&amp;id=691a149a-9b69-4567-8878-47939ce0bc5f"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F69246471-de07-4ce7-b852-4bff1bd35340%2FUntitled.png?width=1354&amp;table=block&amp;id=691a149a-9b69-4567-8878-47939ce0bc5f" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/cd6616b2f4984532b0a9229af080945a" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">接收到MAC地址符合自己MAC地址的包之后</span></span></li><li id="https://www.notion.so/bd456a3148f44cacaefdcb8f1ca99772" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">去除掉无用的MAC头部，接下来，路由器会根据MAC头部后方的IP头部中的内容进行包的转发操作</span></span></li></ul><div id="https://www.notion.so/25585c6463384b679553961938bc40a7" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fdc54c8b1-edeb-4c4d-bcbd-6341ed5a059a%2FUntitled.png?width=1290&amp;table=block&amp;id=25585c64-6338-4b67-9553-961938bc40a7"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fdc54c8b1-edeb-4c4d-bcbd-6341ed5a059a%2FUntitled.png?width=1290&amp;table=block&amp;id=25585c64-6338-4b67-9553-961938bc40a7" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/297097d433e749f8916bc4d9ebb32f49" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在路由表中根据IP地址寻找目标地址，找不到的话会使用默认路由</span></span></li><li id="https://www.notion.so/5722fcac9ada491199241c35b7908b14" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">确定好目标地址后，先利用网关是否为空判断是否是最终目标地址</span></span></li></ul><div id="https://www.notion.so/99c927c4b9a24fe7830c72dd32de19d7" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F1eab775d-c108-466e-818e-8a5870083705%2FUntitled.png?width=1368&amp;table=block&amp;id=99c927c4-b9a2-4fe7-830c-72dd32de19d7"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F1eab775d-c108-466e-818e-8a5870083705%2FUntitled.png?width=1368&amp;table=block&amp;id=99c927c4-b9a2-4fe7-830c-72dd32de19d7" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/df4b102be7b44f58a85fc78fdb198530" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">利用目标IP地址，并通过ARP协议根据IP地址查询MAC地址</span></span></li><li id="https://www.notion.so/ff98f1474f9e43909f9d005c70b12799" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">再次转换成电信号并通过端口发送</span></span></li><li id="https://www.notion.so/1f75829e0d6f4a53ab0efc29183e47c5" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">经历可能存在的路由器层层传递，到达最终目的地</span></span></li></ul><div id="https://www.notion.so/84d931347e0a4f4e84bb5c8f92ae8a60" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">最后进行扒皮，将包发送给HTTP进程</span></span></p></div><div id="https://www.notion.so/03343a85a1064620a8fb81a855f4c739" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">HTTP进行处理后，发送一个相应报文</span></span></p></div><h1 id="https://www.notion.so/e4dec55bdb634ec99d35dfe9321e8093" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/e4dec55bdb634ec99d35dfe9321e8093"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">一次HTTP请求的报文</span></span></h1><div id="https://www.notion.so/b43f5b7aa1c84dd5aabbcd8eb158814e" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F3a3ca55b-b463-4bb4-b5a1-2e2489a6c345%2FUntitled.png?width=1102&amp;table=block&amp;id=b43f5b7a-a1c8-4dd5-aabb-cd8eb158814e"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F3a3ca55b-b463-4bb4-b5a1-2e2489a6c345%2FUntitled.png?width=1102&amp;table=block&amp;id=b43f5b7a-a1c8-4dd5-aabb-cd8eb158814e" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/397b4bd47e0049d99b03de838d0accdb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><a id="https://www.notion.so/5753f86c795e448e961b03144930c0a7" class="Page" href="https://www.notion.so/5753f86c795e448e961b03144930c0a7"><div><div class="Page__Icon"><div class="Icon">🛷</div></div><div class="Page__Title"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">键入网址到网页显示，期间发生了什么？（小林版）</strong></strong></span></span></div></div></a></article>
  <footer class="Footer">
  <div>&copy; 沂风 2022</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>