<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>HashMap（包括头插尾插法，扩容具体流程）&nbsp;|&nbsp;沂风</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="HashMap（包括头插尾插法，扩容具体流程）">
  
    <meta name="description" content="HashMap部分笔记">
    <meta property="og:description" content="HashMap部分笔记">
  
  
    <meta property="og:image" content="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;📍&lt;/text&gt;&lt;/svg&gt;">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;😀&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>关于</span>
        </div>
      </a>
    
  
    
  
    
  
</nav>
  <header class="Header">
    
      <div class="Header__Cover">
        <img src="https://www.notion.so/images/page-cover/rijksmuseum_vermeer_the_milkmaid.jpg">
      </div>
    
    <div class="Header__Spacer ">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;📍&lt;/text&gt;&lt;/svg&gt;"></span>
      </div>
    
    <h1 class="Header__Title">HashMap（包括头插尾插法，扩容具体流程）</h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Wed, Aug 2, 2023</span>
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--blue">
            <a href="tag/Java.html">Java</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/0fdbd80a67434f0a861a64c666a8f161" class="PageRoot PageRoot--FullWidth"><ul id="https://www.notion.so/8e1310be5abe41e79f73cd5ad3092d67" class="ColorfulBlock ColorfulBlock--ColorGray TableOfContents"><li class="TableOfContents__Item"><a href="#https://www.notion.so/c4615a1b570a4b62b344e1ad069a9df6"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">扩容具体流程</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e60ab57905034ea3839f5349d3a4f8b9"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">如果不是第一期扩容，则容量会变为原来的两倍，阈值也变为原来的两倍（负载因子不变）
扩容具体操作</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/f69f5db3d1f24689ae75400be6878520"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">头插法尾插法（与redis比较）</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/9053d77d024b4d97888fe53d8cde4f2c"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">Put/Get流程</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/08cbf7851bc64b5f916a0aa1e14859c4"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">Put操作</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/05b7715b246f4e0f8a43b43fdfa1efb9"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">扰动的具体操作（hash函数）</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/139fed7714c246338e857a8d8fdc8dd2"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">Get操作</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e7708cb701e74732b5c8913852bae89e"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">==与equals在hashmap中的应用</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/70c432274f9248c684852ab6632f583d"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">多线程安全问题</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/8204de70a5964e30b0391cab66f7e73a"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">CopyonwriteHashMap</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/961d9d57230b4527b8ef58ff1119eefe"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">其他问题</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/bb8b3dcb3db3419ca6c5f4fafb7c1ce7"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">为什么我们需要</strong></span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">hash()函数，而不是直接用key</strong></em></span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">的</strong></span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">hashcode</strong></em></span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">直接计算下标</strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/eac09ada6f4247a28666a3cbfad20437"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">java8中为什么头插法改成尾插法</strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/53c1f609c56744a1947ec01f960e7074"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">HashMap内部哈希数组的长度为什么要取2的幂</strong></strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/76d3a0c7a85b45aab48de31b90481f87"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">参考文档</span></span></div></a></li></ul><h1 id="https://www.notion.so/c4615a1b570a4b62b344e1ad069a9df6" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/c4615a1b570a4b62b344e1ad069a9df6"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">扩容具体流程</span></span></h1><div id="https://www.notion.so/cecd47a7292948dc84382ae1d83d36c0" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc982ce38-20b3-42f6-8f80-1014bf8426c4%2FUntitled.png?width=1130&amp;table=block&amp;id=cecd47a7-2929-48dc-8438-2ae1d83d36c0"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc982ce38-20b3-42f6-8f80-1014bf8426c4%2FUntitled.png?width=1130&amp;table=block&amp;id=cecd47a7-2929-48dc-8438-2ae1d83d36c0" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/6352797a35d946dfa0c0d1cdeefde5f2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/e60ab57905034ea3839f5349d3a4f8b9" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/e60ab57905034ea3839f5349d3a4f8b9"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">如果不是第一期扩容，则容量会变为原来的两倍，阈值也变为原来的两倍（负载因子不变）
扩容具体操作</span></span></h2><ol class="NumberedListWrapper"><li id="https://www.notion.so/1bac29a6fcfd46898d746a418989ea1b" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">生成新数组</span></span></li><li id="https://www.notion.so/6a203b5df87c43e5bea5bf844a817639" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">遍历老数组上的每个位置上的链表或者是红黑树</span></span></li><li id="https://www.notion.so/d3ded4eec4864931ae5a9233a7fe90e3" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">如果是链表，则直接遍历链表并重新计算下标，添加到新数组中</span></span></li><li id="https://www.notion.so/a42cf468445d41bcb8f836c4d9fd0e79" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">分为两个新链表，一个代表不需要移动位置，一个代表需要移动位置</span></span></li><li id="https://www.notion.so/849e38e73aad4e67821e865ce3f15526" class="NumberedList" value="5"><span class="SemanticStringArray"><span class="SemanticString">如果是红黑树，先遍历红黑树并确定每个元素在新数组中对应的位置</span></span></li><li id="https://www.notion.so/4c47fb0980b94eeca0e0febc156acadc" class="NumberedList" value="6"><span class="SemanticStringArray"><span class="SemanticString">统计每个下标位置的元素个数（在遍历链表和红黑树之后）</span></span></li><li id="https://www.notion.so/62d047a838a64525ae64d300fb897911" class="NumberedList" value="7"><span class="SemanticStringArray"><span class="SemanticString">根据位置对应元素个数，生成红黑树还是链表</span></span></li><li id="https://www.notion.so/cfd1d934d0c24cf591dceabb7d490d2f" class="NumberedList" value="8"><span class="SemanticStringArray"><span class="SemanticString">元素转移完成后，将新数组赋值给HashMap对象的table属性</span></span></li></ol><div id="https://www.notion.so/9094feb82bb84bc495a96d2ad3ae07b8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/f69f5db3d1f24689ae75400be6878520" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/f69f5db3d1f24689ae75400be6878520"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">头插法尾插法（与redis比较）</span></span></h1><div id="https://www.notion.so/c461c74be067490084e3c493b6a4005c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">redis使用头插法（速度比较快，应该不会出现循环链表的问题）</span></span></p></div><div id="https://www.notion.so/6e9ee01da2c74f6e8bf9b613cca481a8" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe46b62fe-d01b-42d2-a779-0cbdf05fcf12%2FUntitled.png?width=1506&amp;table=block&amp;id=6e9ee01d-a2c7-4f6e-8bf9-b613cca481a8"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe46b62fe-d01b-42d2-a779-0cbdf05fcf12%2FUntitled.png?width=1506&amp;table=block&amp;id=6e9ee01d-a2c7-4f6e-8bf9-b613cca481a8" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h1 id="https://www.notion.so/9053d77d024b4d97888fe53d8cde4f2c" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/9053d77d024b4d97888fe53d8cde4f2c"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Put/Get流程</span></span></h1><h2 id="https://www.notion.so/08cbf7851bc64b5f916a0aa1e14859c4" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/08cbf7851bc64b5f916a0aa1e14859c4"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Put操作</span></span></h2><ol class="NumberedListWrapper"><li id="https://www.notion.so/852785b771744a4aa8bf6fe36975bf36" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">判断是否初始化，未初始化则把容量扩充为16</span></span></li><li id="https://www.notion.so/1470268167974e42945b2c34a3f56893" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">获取Key的HashCode，进行扰动处理（hash函数），计算出元素的下标</span></span></li><li id="https://www.notion.so/2de9a5418a3a444f8ba5f5340d81fa01" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">判断是否会发生hash碰撞，如果没有，则直接放入桶中</span></span></li><li id="https://www.notion.so/bda6c860c9614c33bd803688b5948410" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">如果发生碰撞，则比较两个Key是否相同，相同则覆盖，不同则判断是否是红黑树</span></span></li><li id="https://www.notion.so/831b2383ed7d4e5e907e93beffe27170" class="NumberedList" value="5"><span class="SemanticStringArray"><span class="SemanticString">不是红黑树则以链表的方式插入到尾部</span></span></li><li id="https://www.notion.so/ed4889e24b8a4263b454c2f50f12a6af" class="NumberedList" value="6"><span class="SemanticStringArray"><span class="SemanticString">插入成功后，判断元素个数是否达到了阈值，达到阈值则进行扩容操作（链表到红黑树）</span></span></li><li id="https://www.notion.so/6388d40a15d144aabaf174541509c2e7" class="NumberedList" value="7"><span class="SemanticStringArray"><span class="SemanticString">扩容成功后，对元素的下标进行重新计算（整体扩容，重新计算结点位置）</span></span></li></ol><h3 id="https://www.notion.so/05b7715b246f4e0f8a43b43fdfa1efb9" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/05b7715b246f4e0f8a43b43fdfa1efb9"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">扰动的具体操作（hash函数）</span></span></h3><div id="https://www.notion.so/b25f566507a343168993a2ed736cdd88" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">hashcode=hashcode^(hashcode&gt;&gt;&gt;16)</span></span></p></div><div id="https://www.notion.so/c12e36841c9347e49eb1c5b466a89284" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">index=hash&amp;(length-1)</span></span></p></div><h2 id="https://www.notion.so/139fed7714c246338e857a8d8fdc8dd2" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/139fed7714c246338e857a8d8fdc8dd2"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Get操作</span></span></h2><ol class="NumberedListWrapper"><li id="https://www.notion.so/53d3d927d54740798362aab1eb3fe0d2" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">根据hashcode计算出hash值，根据hash值进行按位与运算，计算出位置</span></span></li><li id="https://www.notion.so/edc564749c014bb4a66f3cf15a8e2995" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">判断对应位置上是否为空以及是否是目标节点</span></span></li><li id="https://www.notion.so/c432fec33747485c888b4591b637fd9b" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">进入下一个节点，同样进行判断。判断是链表还是红黑树</span></span></li><li id="https://www.notion.so/75e537e421cf4a7497592105b462da85" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">进行相应的遍历操作</span></span></li></ol><h1 id="https://www.notion.so/e7708cb701e74732b5c8913852bae89e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/e7708cb701e74732b5c8913852bae89e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">==与equals在hashmap中的应用</span></span></h1><div id="https://www.notion.so/48e1af06890547df998f0fe5a7ec6600" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F0eb23368-6fff-47d0-bc60-41844cdaec7d%2FUntitled.png?width=1114&amp;table=block&amp;id=48e1af06-8905-47df-998f-0fe5a7ec6600"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F0eb23368-6fff-47d0-bc60-41844cdaec7d%2FUntitled.png?width=1114&amp;table=block&amp;id=48e1af06-8905-47df-998f-0fe5a7ec6600" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h1 id="https://www.notion.so/70c432274f9248c684852ab6632f583d" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/70c432274f9248c684852ab6632f583d"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">多线程安全问题</span></span></h1><div id="https://www.notion.so/3923bceb153547058042089cd40131be" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F4f87257a-3109-4595-b507-cda1e21953b4%2FUntitled.png?width=1156&amp;table=block&amp;id=3923bceb-1535-4705-8042-089cd40131be"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F4f87257a-3109-4595-b507-cda1e21953b4%2FUntitled.png?width=1156&amp;table=block&amp;id=3923bceb-1535-4705-8042-089cd40131be" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h1 id="https://www.notion.so/8204de70a5964e30b0391cab66f7e73a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/8204de70a5964e30b0391cab66f7e73a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">CopyonwriteHashMap</span></span></h1><h1 id="https://www.notion.so/961d9d57230b4527b8ef58ff1119eefe" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/961d9d57230b4527b8ef58ff1119eefe"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">其他问题</span></span></h1><h2 id="https://www.notion.so/bb8b3dcb3db3419ca6c5f4fafb7c1ce7" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/bb8b3dcb3db3419ca6c5f4fafb7c1ce7"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">为什么我们需要</strong></span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">hash()函数，而不是直接用key</strong></em></span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">的</strong></span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">hashcode</strong></em></span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">直接计算下标</strong></span></span></h2><div id="https://www.notion.so/eccceca40a0c4d64bc16ea4289ce90df" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F77290318-fb6a-483e-9c87-57d1212c0c20%2FUntitled.png?width=1646&amp;table=block&amp;id=eccceca4-0a0c-4d64-bc16-ea4289ce90df"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F77290318-fb6a-483e-9c87-57d1212c0c20%2FUntitled.png?width=1646&amp;table=block&amp;id=eccceca4-0a0c-4d64-bc16-ea4289ce90df" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/9cfa552561e340fbb1d886e9dae62c15" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">简要：令高位也参与计算</span></span></p></div><h2 id="https://www.notion.so/eac09ada6f4247a28666a3cbfad20437" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/eac09ada6f4247a28666a3cbfad20437"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">java8中为什么头插法改成尾插法</strong></span></span></h2><div id="https://www.notion.so/7c69200314904e0b95a85f0154bd6fbd" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe34da690-d9e8-4945-9c7e-018ff4b921ed%2FUntitled.png?width=1640&amp;table=block&amp;id=7c692003-1490-4e0b-95a8-5f0154bd6fbd"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe34da690-d9e8-4945-9c7e-018ff4b921ed%2FUntitled.png?width=1640&amp;table=block&amp;id=7c692003-1490-4e0b-95a8-5f0154bd6fbd" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/53c1f609c56744a1947ec01f960e7074" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/53c1f609c56744a1947ec01f960e7074"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">HashMap内部哈希数组的长度为什么要取2的幂</strong></strong></span></span></h2><div id="https://www.notion.so/bd2a842938a9432ba970f4ad926ad11d" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb7986b93-c12c-4af5-b17b-58625296ff19%2FUntitled.png?width=1774&amp;table=block&amp;id=bd2a8429-38a9-432b-a970-f4ad926ad11d"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb7986b93-c12c-4af5-b17b-58625296ff19%2FUntitled.png?width=1774&amp;table=block&amp;id=bd2a8429-38a9-432b-a970-f4ad926ad11d" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h1 id="https://www.notion.so/76d3a0c7a85b45aab48de31b90481f87" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/76d3a0c7a85b45aab48de31b90481f87"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">参考文档</span></span></h1><div id="https://www.notion.so/4c670a3b13514241b97f441cc0887001" class="Bookmark"><a href="https://juejin.cn/post/6995921817462538247#heading-4"><h5 class="Bookmark__Title">HashMap元素的插入流程以及扩容操作 - 掘金</h5><p class="Bookmark__Desc">前言 本文主要探讨HashMap插入以及扩容流程涉及到的算法，有关HashMap的简单介绍可以看这篇文章《HashMap的构成与大小的确定》。 1.元素的存取流程 以Java8为参考，HashMap插</p><p class="Bookmark__Link">https://juejin.cn/post/6995921817462538247#heading-4</p></a></div><div id="https://www.notion.so/57b4a0bec9844f948553ca57ae5daece" class="Bookmark"><a href="https://blog.csdn.net/qicha3705/article/details/119465313?spm=1001.2014.3001.5501"><h5 class="Bookmark__Title">HashMap的构成与大小的确定_hashmap删除元素后会调整大小嘛_Croatoanlus的博客-CSDN博客</h5><p class="Bookmark__Desc">数据结构与算法之HashMap1.hashMap如何构建大小2.hashMap是什么时候开始申请大小的3.自定义hashMap该如何设置大小1.hashMap如何构建大小2.hashMap是什么时候开始申请大小的3.自定义hashMap该如何设置大小..._hashmap删除元素后会调整大小嘛</p><p class="Bookmark__Link">https://blog.csdn.net/qicha3705/article/details/119465313?spm=1001.2014.3001.5501</p></a></div><div id="https://www.notion.so/13b6540c3be8481c87151a1df408c7fc" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></article>
  <footer class="Footer">
  <div>&copy; 沂风 2022</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>