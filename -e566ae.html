<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>线程池&nbsp;|&nbsp;沂风</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="线程池">
  
    <meta name="description" content="Java线程包括美团对于线程池的探索">
    <meta property="og:description" content="Java线程包括美团对于线程池的探索">
  
  
    <meta property="og:image" content="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🕢&lt;/text&gt;&lt;/svg&gt;">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;😀&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>关于</span>
        </div>
      </a>
    
  
    
  
</nav>
  <header class="Header">
    
      <div class="Header__Cover">
        <img src="https://www.notion.so/images/page-cover/nasa_robert_stewart_spacewalk_2.jpg">
      </div>
    
    <div class="Header__Spacer ">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🕢&lt;/text&gt;&lt;/svg&gt;"></span>
      </div>
    
    <h1 class="Header__Title">线程池</h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Fri, Sep 1, 2023</span>
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--red">
            <a href="tag/JUC.html">JUC</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/e566ae38497e44f0b0c87234b1e7edae" class="PageRoot"><ul id="https://www.notion.so/d05b3d092fd449709d51af25bdafc95e" class="ColorfulBlock ColorfulBlock--ColorGray TableOfContents"><li class="TableOfContents__Item"><a href="#https://www.notion.so/d2df02bd1aee426182382b6d35d2025e"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">不断创建线程的弊端</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/aac14408be7947f29dd1fe615de4071f"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">使用线程池的好处</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/b395d1208838474b92044038676534ac"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">线程池原理：</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/2516431a85ef4c32882fabd261b1f419"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">线程池的状态</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/683ddec4aea740e594713f02da7b77b2"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">具体生命状态</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/d6103c921a824bad991602cbe407e3dc"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">生命周期流程</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/60f79df45a0346509f9e8dec136ff308"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">线程池的继承关系</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/9ce5b2fcf41049bd8085aeee8f4af730"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">Executor</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/1edab8986c824826b8969418926c2074"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">ExecutorService</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/fdb6833a563d4976b9aee10fea3fce1e"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">AbstractExecutorService类实现了EcecutorService接口，是上层的抽象类</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/9b2c9fabfcad44529b3adfbed779a91b"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">ThreadPoolExecutor</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/2af0e5745e0e47a48aeb866e7856275b"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">核心类ThreadPoolExecutor</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/5c0a5b05416347c39e9bfa25bf285a26"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">核心参数</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/a437ae1f77834017928c1935da3b15a6"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">corePoolSize</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/ffac4f4532c94c59b5a7399beca381ac"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">maxinumPoolSize</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/5f8b9ea1743b41f39a0c153712663a4c"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">workQueue</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/4fb293b543794e2b92b906682bd34f41"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">keepAliveTime</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/d4a03a86184443e4968c649967df3741"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">unit</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/b9a59c67f9174613819bbc218fd46808"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">threadFactory</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/6e52be33982145fab1c1da0c6edf1c47"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">handler</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/4ea3b70ec727436c8244af4087224a12"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">主要方法</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/a6d0ea52bfa64b5e9c9b32525d3df6a7"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">线程池流程</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/06d0d95a12194c7c9819379be3f07bff"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">运行策略</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/97d90b0dfb6a43f18e991a14cca39ef8"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">线程池的拒绝策略</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/bc5b14daa57d4a2d84b3f499eca861c2"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">AbortPolicy</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/817e08b35f854381afc4c18bb7f780fd"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">CallerRunsPolicy</strong></strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/ba1b41dd54d74006acad4da2cfbe3c85"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">DiscardOldestPolicy</strong></strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/f78729ebfcfe462880713351880a42ca"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">DiscardPolicy</strong></strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/fa309ebf429e44ed860754b3e2b948e3"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">线程池为什么要使用阻塞队列</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/81d158ae763a4afe9f1c288cf83d2fdb"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">阻塞队列</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/acb76b350ed9408cab48d67782431820"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">线程池中如何实现线程复用</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/c2902970e40e448f970d47e552a29cd4"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">线程池中的线程工厂有什么用</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/a96ec9fd5f3f4ddf9b7cc27a541bb251"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">如何使用线程池</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/fca03ac222184f2dbf54e97c08d87572"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">线程池的创建和种类</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/73aac150f9e841fa815a09bf52ebd2ee"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">Executors工厂类（不建议）</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/7acd508551ad4fa3b4b6d58e0a685940"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">ThreadPoolExecutor自定义创建</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/4f69711b783948bc967064c856c4da14"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">submit与execute的区别</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/5c0ea68422ec498b8a21e0afe26ddcef"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">为什么不建议用Executors</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/3e142e2daf6b475081857278e87d4991"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">常见的线程池种类</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/6336507fc78f4593aae87c646dcf2553"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">线程池的具体使用</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/a3261fa779c345c084419a45325c61d9"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">能否不用线程池</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/0da937e933ac4a879ebbdf86e72b7f68"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">追求线程合理性</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e1eb00e009f8460ca1569380fc31cb23"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">动态化线程池</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/f6bd6774f3264bfb8361d70fd547ebd1"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">参考文章</span></span></div></a></li></ul><h1 id="https://www.notion.so/d2df02bd1aee426182382b6d35d2025e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/d2df02bd1aee426182382b6d35d2025e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">不断创建线程的弊端</span></span></h1><ol class="NumberedListWrapper"><li id="https://www.notion.so/bb4d4349bd324c67a6e354f7183d3abf" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">会被GC自动回收</span></span></li><li id="https://www.notion.so/db6005c1f970465d97fed34eeb062c60" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">创建，执行，销毁消耗CPU资源</span></span></li><li id="https://www.notion.so/f4b5cf83f1e24c53950db29d42f1b8b0" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">内存抖动，界面卡顿</span></span></li><li id="https://www.notion.so/4567d194000546de98dc2332afcdbcb0" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">时间消耗</span></span></li></ol><h1 id="https://www.notion.so/aac14408be7947f29dd1fe615de4071f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/aac14408be7947f29dd1fe615de4071f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">使用线程池的好处</span></span></h1><div id="https://www.notion.so/f9c3db3fc17d43eb904824344f812924" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff0aeb90d-bcb5-4310-ab81-13b4aa9defc6%2FUntitled.png?width=1240&amp;table=block&amp;id=f9c3db3f-c17d-43eb-9048-24344f812924"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff0aeb90d-bcb5-4310-ab81-13b4aa9defc6%2FUntitled.png?width=1240&amp;table=block&amp;id=f9c3db3f-c17d-43eb-9048-24344f812924" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/ec7cbc27723b4ec4b8e9d55aa9dc7621" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">为解决资源分配这个问题，线程池采用了“池化”（Pooling）思想。池化，顾名思义，是为了最大化收益并最小化风险，而将资源统一在一起管理的一种思想。</span></span></p></div><div id="https://www.notion.so/7c06c89601664df7856adae477e3a39b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Pooling is the grouping together of resources (assets, equipment, personnel, effort, etc.) for the purposes of maximizing advantage or minimizing risk to the users. The term is used in finance, computing and equipment management.——wikipedia</span></span></p></div><div id="https://www.notion.so/e123178367454c259a7f04ac229b8d78" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">“池化”思想不仅仅能应用在计算机领域，在金融、设备、人员管理、工作管理等领域也有相关的应用。</span></span></p></div><div id="https://www.notion.so/2e3c023b618e4eb4858ddd9170b314ba" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在计算机领域中的表现为：统一管理IT资源，包括服务器、存储、和网络资源等等。通过共享资源，使用户在低投入中获益。除去线程池，还有其他比较典型的几种使用策略包括：</span></span></p></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/4b3645d46b4949fbb331106ffbfcd5dd" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">内存池(Memory Pooling)：预先申请内存，提升申请内存速度，减少内存碎片。</span></span></li><li id="https://www.notion.so/69753d5790754a9080ee076a8d4b09e0" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">连接池(Connection Pooling)：预先申请数据库连接，提升申请连接的速度，降低系统的开销。</span></span></li><li id="https://www.notion.so/c45809c7b50d449bb1c5744a407debcb" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">实例池(Object Pooling)：循环使用对象，减少资源在初始化和释放时的昂贵损耗。</span></span></li></ol><h1 id="https://www.notion.so/b395d1208838474b92044038676534ac" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/b395d1208838474b92044038676534ac"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">线程池原理：</span></span></h1><h2 id="https://www.notion.so/2516431a85ef4c32882fabd261b1f419" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/2516431a85ef4c32882fabd261b1f419"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">线程池的状态</span></span></h2><div id="https://www.notion.so/9443dc5ec8cc4e03b68b78100d15329b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">线程池的生命周期也就是线程池在运行时所经历的线程池状态</span></span></p></div><div id="https://www.notion.so/a96dfe73a2c143d68e63e77effbc62a1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">线程池内部使用一个变量维护两个值：运行状态和线程数量</span></span></p></div><div id="https://www.notion.so/4d45ab94f61f411f905c3b5ed4a9b917" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2dc49f7e-0f28-48d4-871e-a7c54f8142eb%2FUntitled.png?width=1240&amp;table=block&amp;id=4d45ab94-f61f-411f-905c-3b5ed4a9b917"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2dc49f7e-0f28-48d4-871e-a7c54f8142eb%2FUntitled.png?width=1240&amp;table=block&amp;id=4d45ab94-f61f-411f-905c-3b5ed4a9b917" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/6e991d77479b4714a9705b4935ca5dfe" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2Ff3411426-639e-4d15-90a5-67998356c8a6%2FUntitled.png?width=2394&amp;table=block&amp;id=6e991d77-479b-4714-a970-5b4935ca5dfe"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2Ff3411426-639e-4d15-90a5-67998356c8a6%2FUntitled.png?width=2394&amp;table=block&amp;id=6e991d77-479b-4714-a970-5b4935ca5dfe" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h3 id="https://www.notion.so/683ddec4aea740e594713f02da7b77b2" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/683ddec4aea740e594713f02da7b77b2"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">具体生命状态</span></span></h3><div id="https://www.notion.so/82797f91500d462493b7a5e36e7a10f5" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F0d315e0b-c361-4b67-8dcd-5b6e39405014%2FUntitled.png?width=1240&amp;table=block&amp;id=82797f91-500d-4624-93b7-a5e36e7a10f5"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F0d315e0b-c361-4b67-8dcd-5b6e39405014%2FUntitled.png?width=1240&amp;table=block&amp;id=82797f91-500d-4624-93b7-a5e36e7a10f5" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/5e84e09930414d7e90a8ac45a75cfb5e" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fca7e5e3c-241b-4ebb-901d-3db6229e15ce%2FUntitled.png?width=1240&amp;table=block&amp;id=5e84e099-3041-4d7e-90a8-ac45a75cfb5e"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fca7e5e3c-241b-4ebb-901d-3db6229e15ce%2FUntitled.png?width=1240&amp;table=block&amp;id=5e84e099-3041-4d7e-90a8-ac45a75cfb5e" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/5ef8a14db1824bf39f9d8f32bf6d53fa" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/0fa59c88f63c47d6a22014dd2b058b0d" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2F3a729903-ce31-4934-a1c6-c6909a58e38c%2FUntitled.png?width=2000&amp;table=block&amp;id=0fa59c88-f63c-47d6-a220-14dd2b058b0d"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2F3a729903-ce31-4934-a1c6-c6909a58e38c%2FUntitled.png?width=2000&amp;table=block&amp;id=0fa59c88-f63c-47d6-a220-14dd2b058b0d" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h3 id="https://www.notion.so/d6103c921a824bad991602cbe407e3dc" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/d6103c921a824bad991602cbe407e3dc"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">生命周期流程</span></span></h3><div id="https://www.notion.so/84226fb6fe404771a519711a7349f9ce" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">创建线程池后，进入RUNNING</span></span></p></div><div id="https://www.notion.so/2155d6980e564a61bed08e6e519e1b71" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">如果调用了shutdown（）方法</span></span></p><div class="Text__Children"><div id="https://www.notion.so/ab08f1402e5c4c35a5ea93db5432e65d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">处于SHUTDOWN状态</span></span></p></div></div></div><div id="https://www.notion.so/53ffb7996cd245f0868ad6ec213a2b67" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">如果调用调用了shutdownNow（）方法</span></span></p><div class="Text__Children"><div id="https://www.notion.so/55d52e0004374350b189221beed6d517" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">处于STOP状态</span></span></p></div></div></div><div id="https://www.notion.so/0120a91f894e499d93d665a706473825" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">当线程池处于SHUTDOWN或STOP状态，并且所有的工作线程都已被销毁，任务缓存队列已经清空或执行结束后，线程池被设置会TERMINATED状态</span></span></p></div><h2 id="https://www.notion.so/60f79df45a0346509f9e8dec136ff308" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/60f79df45a0346509f9e8dec136ff308"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">线程池的继承关系</span></span></h2><div id="https://www.notion.so/e61248cb9823436f8c46ade6a003aa77" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2Fa9275cff-e674-421e-81f1-b3ab17ab6cae%2FUntitled.png?width=744&amp;table=block&amp;id=e61248cb-9823-436f-8c46-ade6a003aa77"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2Fa9275cff-e674-421e-81f1-b3ab17ab6cae%2FUntitled.png?width=744&amp;table=block&amp;id=e61248cb-9823-436f-8c46-ade6a003aa77" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h3 id="https://www.notion.so/9ce5b2fcf41049bd8085aeee8f4af730" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/9ce5b2fcf41049bd8085aeee8f4af730"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Executor</span></span></h3><div id="https://www.notion.so/c31b3d3fe86b4c18b0a129a71213f2d3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">顶层接口Executor提供了一种思想：将任务提交和任务执行进行解耦。用户无需关注如何创建线程，如何调度线程来执行任务，用户只需提供Runnable对象，将任务的运行逻辑提交到执行器(Executor)中，由Executor框架完成线程的调配和任务的执行部分。</span></span></p></div><div id="https://www.notion.so/a73dfa053d214687977fa5e230c64389" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F7d338089-d22b-4d32-b6cf-9a23adb2c253%2FUntitled.png?width=1240&amp;table=block&amp;id=a73dfa05-3d21-4687-977f-a5e230c64389"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F7d338089-d22b-4d32-b6cf-9a23adb2c253%2FUntitled.png?width=1240&amp;table=block&amp;id=a73dfa05-3d21-4687-977f-a5e230c64389" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h3 id="https://www.notion.so/1edab8986c824826b8969418926c2074" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/1edab8986c824826b8969418926c2074"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">ExecutorService</span></span></h3><div id="https://www.notion.so/0376dd9703694b7bae851e6f0b478418" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">继承了Executor接口，并声明了一些方法</span></span></p></div><div id="https://www.notion.so/12bd401e39254ea89fbdb2d9807b05f8" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F1f563210-d889-44a0-8ae4-9ef849f954b9%2FUntitled.png?width=1240&amp;table=block&amp;id=12bd401e-3925-4ea8-9fbd-b2d9807b05f8"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F1f563210-d889-44a0-8ae4-9ef849f954b9%2FUntitled.png?width=1240&amp;table=block&amp;id=12bd401e-3925-4ea8-9fbd-b2d9807b05f8" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/fdb6833a563d4976b9aee10fea3fce1e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/fdb6833a563d4976b9aee10fea3fce1e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">AbstractExecutorService类实现了EcecutorService接口，是上层的抽象类</span></span></h2><h3 id="https://www.notion.so/9b2c9fabfcad44529b3adfbed779a91b" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/9b2c9fabfcad44529b3adfbed779a91b"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">ThreadPoolExecutor</span></span></h3><div id="https://www.notion.so/22c9c7cc98c74faeb618ce03005eb319" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">继承了AbstractExecutorService类，实现最复杂的内存运行</span></span></p></div><div id="https://www.notion.so/31c24b244b0747b383f86b40b4c7bc26" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">一方面会维护自身的生命周期，另一方面同时管理线程和任务</span></span></p></div><div id="https://www.notion.so/8eec6cb1b72646aebc64b2648355747a" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F8d5599d6-5f4d-43d0-8a44-684a2dcdca40%2FUntitled.png?width=1240&amp;table=block&amp;id=8eec6cb1-b726-46ae-bc64-b2648355747a"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F8d5599d6-5f4d-43d0-8a44-684a2dcdca40%2FUntitled.png?width=1240&amp;table=block&amp;id=8eec6cb1-b726-46ae-bc64-b2648355747a" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/51072c275aaa425392722ca4a05238dc" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/2af0e5745e0e47a48aeb866e7856275b" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/2af0e5745e0e47a48aeb866e7856275b"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">核心类ThreadPoolExecutor</span></span></h2><div id="https://www.notion.so/085d45dd00d9432ea6ea9185bbfbc022" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">其实java线程池的实现原理很简单，说白了就是一个线程集合workerSet和一个阻塞队列workQueue。当用户向线程池提交一个任务(也就是线程)时，线程池会先将任务放入workQueue中。workerSet中的线程会不断的从workQueue中获取线程然后执行。当workQueue中没有任务的时候，worker就会阻塞，直到队列中有任务了就取出来继续执行。</span></span></p></div><div id="https://www.notion.so/e428146576ef40ca91b69dea1277b4ab" class="Divider"></div><div id="https://www.notion.so/9f55a17ced944013b6075b6d8b94c1e1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">提供四种构造器</span></span></p></div><h2 id="https://www.notion.so/5c0a5b05416347c39e9bfa25bf285a26" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/5c0a5b05416347c39e9bfa25bf285a26"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">核心参数</span></span></h2><h3 id="https://www.notion.so/a437ae1f77834017928c1935da3b15a6" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/a437ae1f77834017928c1935da3b15a6"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">corePoolSize</span></span></h3><div id="https://www.notion.so/0760d81dd6914f5aac61e80b8d93e748" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2478a9a7-e60e-41a4-a2a9-aeb0f24131b7%2FUntitled.png?width=1240&amp;table=block&amp;id=0760d81d-d691-4f5a-ac61-e80b8d93e748"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2478a9a7-e60e-41a4-a2a9-aeb0f24131b7%2FUntitled.png?width=1240&amp;table=block&amp;id=0760d81d-d691-4f5a-ac61-e80b8d93e748" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h3 id="https://www.notion.so/ffac4f4532c94c59b5a7399beca381ac" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/ffac4f4532c94c59b5a7399beca381ac"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">maxinumPoolSize</span></span></h3><div id="https://www.notion.so/7c496074a60b498da29f3ad59afe4557" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">线程池最大线程数</span></span></p></div><h3 id="https://www.notion.so/5f8b9ea1743b41f39a0c153712663a4c" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/5f8b9ea1743b41f39a0c153712663a4c"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">workQueue</span></span></h3><div id="https://www.notion.so/d90649bd37d845628aa539f268d9f905" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2672112a-6306-4cbf-9f2b-efe8b2014d4a%2FUntitled.png?width=1240&amp;table=block&amp;id=d90649bd-37d8-4562-8aa5-39f268d9f905"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2672112a-6306-4cbf-9f2b-efe8b2014d4a%2FUntitled.png?width=1240&amp;table=block&amp;id=d90649bd-37d8-4562-8aa5-39f268d9f905" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/9c37571f0c074fe79bbc2adc559d06a3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">• </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">SynchronousQueue</code></span><span class="SemanticString">: 一个不存储元素的阻塞队列，每个插入操作必须等到另一个线程调用移除操作，否则插入操作一直处于阻塞状态，吞吐量通常要高于LinkedBlockingQueue；</span></span></p></div><h3 id="https://www.notion.so/4fb293b543794e2b92b906682bd34f41" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/4fb293b543794e2b92b906682bd34f41"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">keepAliveTime</span></span></h3><div id="https://www.notion.so/b1b9d12be2dc4d3d93c426a9298f5e1b" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F39c3aa89-43ab-4c77-b7a3-5f24e2850bce%2FUntitled.png?width=1240&amp;table=block&amp;id=b1b9d12b-e2dc-4d3d-93c4-26a9298f5e1b"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F39c3aa89-43ab-4c77-b7a3-5f24e2850bce%2FUntitled.png?width=1240&amp;table=block&amp;id=b1b9d12b-e2dc-4d3d-93c4-26a9298f5e1b" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/64a9a7eef6614561bd01fb6004beba7a" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F1b3a6dd5-41e2-43cf-8ba2-4b20ee853e89%2FUntitled.png?width=1240&amp;table=block&amp;id=64a9a7ee-f661-4561-bd01-fb6004beba7a"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F1b3a6dd5-41e2-43cf-8ba2-4b20ee853e89%2FUntitled.png?width=1240&amp;table=block&amp;id=64a9a7ee-f661-4561-bd01-fb6004beba7a" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h3 id="https://www.notion.so/d4a03a86184443e4968c649967df3741" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/d4a03a86184443e4968c649967df3741"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">unit</span></span></h3><div id="https://www.notion.so/2793bce95d204592bc9da23c104ed43b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">参数keepAliveTime的时间单位</span></span></p></div><h3 id="https://www.notion.so/b9a59c67f9174613819bbc218fd46808" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/b9a59c67f9174613819bbc218fd46808"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">threadFactory</span></span></h3><div id="https://www.notion.so/9fa7f3cf765d4f05871c8e0b0d2d7ed6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">线程工厂，主要用于创建线程</span></span></p></div><div id="https://www.notion.so/5aaf3e974daa4d8592be9fee1cab7b7b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">创建线程的工厂，通过自定义的线程工厂可以给每个新建的线程设置一个具有识别度的线程名。默认为DefaultThreadFactory</span></span></p></div><h3 id="https://www.notion.so/6e52be33982145fab1c1da0c6edf1c47" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/6e52be33982145fab1c1da0c6edf1c47"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">handler</span></span></h3><div id="https://www.notion.so/e73fd4f1f754474c9cbe0bc808211a03" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">线程池的饱和策略，当阻塞队列满了，且没有空闲的工作线程，如果继续提交任务，必须采取一种策略处理该任务，线程池提供了4种策略:</span></span></p></div><div id="https://www.notion.so/a1cd6685d86546708c0a7c1792b7b960" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2F5f4131fb-1d27-4a8f-b783-f99f89f5cc26%2FUntitled.png?width=1182&amp;table=block&amp;id=a1cd6685-d865-4670-8c0a-7c1792b7b960"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2F5f4131fb-1d27-4a8f-b783-f99f89f5cc26%2FUntitled.png?width=1182&amp;table=block&amp;id=a1cd6685-d865-4670-8c0a-7c1792b7b960" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/4ea3b70ec727436c8244af4087224a12" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/4ea3b70ec727436c8244af4087224a12"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">主要方法</span></span></h2><div id="https://www.notion.so/112eab13bbfd420ca47e1b402445dcc2" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F6ea2b102-495a-4c3e-9109-b583921812e1%2FUntitled.png?width=1240&amp;table=block&amp;id=112eab13-bbfd-420c-a47e-1b402445dcc2"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F6ea2b102-495a-4c3e-9109-b583921812e1%2FUntitled.png?width=1240&amp;table=block&amp;id=112eab13-bbfd-420c-a47e-1b402445dcc2" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/a6d0ea52bfa64b5e9c9b32525d3df6a7" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/a6d0ea52bfa64b5e9c9b32525d3df6a7"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">线程池流程</span></span></h2><div id="https://www.notion.so/12b9319ad759463dad1ea5047d11d757" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F11eec9af-ff42-4eab-93f9-16a7cc57a11d%2FUntitled.png?width=1594&amp;table=block&amp;id=12b9319a-d759-463d-ad1e-a5047d11d757"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F11eec9af-ff42-4eab-93f9-16a7cc57a11d%2FUntitled.png?width=1594&amp;table=block&amp;id=12b9319a-d759-463d-ad1e-a5047d11d757" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h3 id="https://www.notion.so/06d0d95a12194c7c9819379be3f07bff" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/06d0d95a12194c7c9819379be3f07bff"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">运行策略</span></span></h3><ol class="NumberedListWrapper"><li id="https://www.notion.so/5ff05704a6184272814b7d8adfd4ac5e" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">线程池刚创建的时候，里面没有一个线程</span></span></li><li id="https://www.notion.so/a3bc8e55d68946d3b2b83ebda37572cc" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">当调用execute方法添加一个任务时，线程池会做如下判断</span></span><ol class="NumberedListWrapper"><li id="https://www.notion.so/270febbce86540ae88deef9a9d000342" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">如果正在运行的线程数目少有corePoolSize，那么马上创建线程运行这个任务—结束</span></span></li><li id="https://www.notion.so/73ee7208143d4db3aa3d73c31869aef2" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">如果正在运行的线程数目大于或等于corePoolSize，那么将这个任务放入缓存队列</span></span></li><li id="https://www.notion.so/6674c5637f5d47c6953f8b0e53f42a76" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">如果这时候队列满了，而且正在运行的线程数目少于maxinumPoolSize，那么还是要创建线程运行任务</span></span></li><li id="https://www.notion.so/c9ea6c387fb44c21a6cdfdd170550dac" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">如果队列满了，而且正在运行线程的线程数量大于或等于maxinumPoolSize，那么线程池会抛出异常，采取任务拒绝策略进行处理 </span></span></li></ol></li><li id="https://www.notion.so/21134c42fa4945118643d54ba501494c" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">当一个线程完成任务时，它会从队列中取下一个任务来执行</span></span></li><li id="https://www.notion.so/e1438729936547328ee9c8c65bef0523" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">当一个线程无事可做，超过一定的时间，线程池会判断，如果当前运行的线程数大于corePoolSize，那么这个线程就会被停掉。</span></span></li></ol><div id="https://www.notion.so/f2fa3e2f50604a698606b1d30f270895" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">故，线程池的所有任务完成后，它最终会收缩到corePoolSize</span></span></p></div><div id="https://www.notion.so/005a4b26cf1d46b58f39bd563cd2046a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/93791890ff2b4edf8c6c6bee77cba6aa" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fa4a67843-3f34-4ec8-b075-4f8660cb3e6d%2FUntitled.png?width=792&amp;table=block&amp;id=93791890-ff2b-4edf-8c6c-6bee77cba6aa"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fa4a67843-3f34-4ec8-b075-4f8660cb3e6d%2FUntitled.png?width=792&amp;table=block&amp;id=93791890-ff2b-4edf-8c6c-6bee77cba6aa" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/97d90b0dfb6a43f18e991a14cca39ef8" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/97d90b0dfb6a43f18e991a14cca39ef8"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">线程池的拒绝策略</span></span></h2><h3 id="https://www.notion.so/bc5b14daa57d4a2d84b3f499eca861c2" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/bc5b14daa57d4a2d84b3f499eca861c2"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">AbortPolicy</span></span></h3><div id="https://www.notion.so/457313229e764d89bf19bdc9b10f5382" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">终止策略，这是</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">ThreadPoolExecutor</code></span><span class="SemanticString">线程池默认的拒绝策略，程序将会抛出</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">RejectedExecutionException</code></span><span class="SemanticString">异常。</span></span></p></div><h3 id="https://www.notion.so/817e08b35f854381afc4c18bb7f780fd" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/817e08b35f854381afc4c18bb7f780fd"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">CallerRunsPolicy</strong></strong></span></span></h3><div id="https://www.notion.so/983450e9d71c40a89161e16e3e3cbdf6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">调用者运行策略，线程池中没办法运行，那么就由提交任务的这个线程运行（哪儿来的回哪儿儿去~）</span></span></p></div><div id="https://www.notion.so/6badd2f9270c4ea4b5d3fff8f4a36302" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">就比如说main方法添加的任务（main主线程），就会由main线程执行这个任务</span></span></p></div><h3 id="https://www.notion.so/ba1b41dd54d74006acad4da2cfbe3c85" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/ba1b41dd54d74006acad4da2cfbe3c85"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">DiscardOldestPolicy</strong></strong></span></span></h3><div id="https://www.notion.so/4993a7c2025a4e70bb63944d8a24b524" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">丢弃最早未处理请求策略，丢弃最先进入阻塞队列的任务以腾出空间让新的任务入队列。</span></span></p></div><h3 id="https://www.notion.so/f78729ebfcfe462880713351880a42ca" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/f78729ebfcfe462880713351880a42ca"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">DiscardPolicy</strong></strong></span></span></h3><div id="https://www.notion.so/4c03ba0a7c6e476ab337ac612d578f40" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">丢弃策略，什么都不做，即丢弃新提交的任务。</span></span></p></div><h2 id="https://www.notion.so/fa309ebf429e44ed860754b3e2b948e3" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/fa309ebf429e44ed860754b3e2b948e3"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">线程池为什么要使用阻塞队列</span></span></h2><div id="https://www.notion.so/343bf2b96f524c83b274cfe91fc73093" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe8bc81b5-64c5-4f0b-84eb-cd1ab03e3f77%2FUntitled.png?width=1418&amp;table=block&amp;id=343bf2b9-6f52-4c83-b274-cfe91fc73093"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe8bc81b5-64c5-4f0b-84eb-cd1ab03e3f77%2FUntitled.png?width=1418&amp;table=block&amp;id=343bf2b9-6f52-4c83-b274-cfe91fc73093" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/81d158ae763a4afe9f1c288cf83d2fdb" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/81d158ae763a4afe9f1c288cf83d2fdb"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">阻塞队列</span></span></h2><div id="https://www.notion.so/e3304225893c4ca0b010a807c9e4cade" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fcaa17d56-ee7e-48f9-a89a-7ee7e152ab73%2FUntitled.png?width=1418&amp;table=block&amp;id=e3304225-893c-4ca0-b010-a807c9e4cade"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fcaa17d56-ee7e-48f9-a89a-7ee7e152ab73%2FUntitled.png?width=1418&amp;table=block&amp;id=e3304225-893c-4ca0-b010-a807c9e4cade" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/d135fc7d7ed0464a8dbcb4a6e1faa2de" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2F2750b63b-bdd9-4bc2-a9f1-3d7e7339293e%2FUntitled.png?width=1866&amp;table=block&amp;id=d135fc7d-7ed0-464a-8dbc-b4a6e1faa2de"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2F2750b63b-bdd9-4bc2-a9f1-3d7e7339293e%2FUntitled.png?width=1866&amp;table=block&amp;id=d135fc7d-7ed0-464a-8dbc-b4a6e1faa2de" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/acb76b350ed9408cab48d67782431820" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/acb76b350ed9408cab48d67782431820"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">线程池中如何实现线程复用</span></span></h2><div id="https://www.notion.so/65fe71397b994fcfb4d18ebc345190a8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">核心线程是一直存活在线程池中的</span></span></p></div><div id="https://www.notion.so/76313ebcb06e44db8fa81d85a5b9ccc1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">那么，线程池就有必要做到核心线程复用</span></span></p></div><div id="https://www.notion.so/120ba6a806554f0687b4f7f09df1c943" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F196ee10b-69ac-4fb4-9ea6-e2e41ab307b5%2FUntitled.png?width=1418&amp;table=block&amp;id=120ba6a8-0655-4f06-87b4-f7f09df1c943"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F196ee10b-69ac-4fb4-9ea6-e2e41ab307b5%2FUntitled.png?width=1418&amp;table=block&amp;id=120ba6a8-0655-4f06-87b4-f7f09df1c943" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/e08a341fad30479b826c85cf47dc9b95" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/501f49aa482946b8a408e51ae4597a91" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/c2902970e40e448f970d47e552a29cd4" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/c2902970e40e448f970d47e552a29cd4"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">线程池中的线程工厂有什么用</span></span></h2><div id="https://www.notion.so/304b8f2e0a5e4e149188741f11e22f4a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">使用工厂模式这一设计模式</span></span></p></div><div id="https://www.notion.so/d11c2425cca54bceb52a48ccd65a672a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">规定了newThread方法</span></span></p></div><div id="https://www.notion.so/2b25cf49c0544a228556e97010bfa63a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">可以传入的Runnable对象进行操作</span></span></p></div><div id="https://www.notion.so/001df04c11864666b5da769082580eed" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://blog.csdn.net/Raynaing/article/details/78582272">https://blog.csdn.net/Raynaing/article/details/78582272</a></span></span></p></div><div id="https://www.notion.so/b11ff5fe154f41359dc0d0eaaab225ad" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">就是对传入的线程进行二次的处理</span></span></p></div><div id="https://www.notion.so/8ad229f612cf4d0d923d574501e7e2ca" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/a96ec9fd5f3f4ddf9b7cc27a541bb251" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/a96ec9fd5f3f4ddf9b7cc27a541bb251"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">如何使用线程池</span></span></h1><h2 id="https://www.notion.so/fca03ac222184f2dbf54e97c08d87572" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/fca03ac222184f2dbf54e97c08d87572"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">线程池的创建和种类</span></span></h2><h3 id="https://www.notion.so/73aac150f9e841fa815a09bf52ebd2ee" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/73aac150f9e841fa815a09bf52ebd2ee"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Executors工厂类（不建议）</span></span></h3><div id="https://www.notion.so/2dd78b6393074b028ea13d505244afd6" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2Ffe8bdb06-8346-4efd-945a-4dc41d55c14f%2FUntitled.png?width=1514&amp;table=block&amp;id=2dd78b63-9307-4b02-8ea1-3d505244afd6"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2Ffe8bdb06-8346-4efd-945a-4dc41d55c14f%2FUntitled.png?width=1514&amp;table=block&amp;id=2dd78b63-9307-4b02-8ea1-3d505244afd6" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/b8bab6a7407b4c2fa357a77a3293e2a5" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">内部也是使用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">ThreadPoolExecutor创建相应的线程池</code></span></span><div id="https://www.notion.so/a1443d9827b146b2a5801b2ad2f1804e" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2F55c2b878-c15d-4778-8265-93a01dfb700a%2FUntitled.png?width=1438&amp;table=block&amp;id=a1443d98-27b1-46b2-a580-1b2ad2f1804e"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2F55c2b878-c15d-4778-8265-93a01dfb700a%2FUntitled.png?width=1438&amp;table=block&amp;id=a1443d98-27b1-46b2-a580-1b2ad2f1804e" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div></li><li id="https://www.notion.so/43352948c21e43b59d78bf8bb85f1bd2" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">返回的是</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">ExecutorService类型</strong></span></span></li></ul><pre id="https://www.notion.so/f2069de933fd4365b2adac6b7babbd70" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token class-name">ExecutorService</span> cachedThreadPool <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newCachedThreadPool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建缓存线程池</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token keyword">int</span> index <span class="token operator">=</span> i<span class="token punctuation">;</span>

    <span class="token comment">// 每次发布任务前等待一段时间，如1s</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 执行任务</span>
    cachedThreadPool<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/4d193b1c41524a2195b181f6bc3c9a09" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">调用execute方法执行任务</span></span></li></ul><h3 id="https://www.notion.so/7acd508551ad4fa3b4b6d58e0a685940" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/7acd508551ad4fa3b4b6d58e0a685940"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">ThreadPoolExecutor自定义创建</span></span></h3><div id="https://www.notion.so/120b7624cb3a472091ba09dd1706e5c7" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2F07987461-1e7b-4293-93fc-16095b3efe63%2FUntitled.png?width=1610&amp;table=block&amp;id=120b7624-cb3a-4720-91ba-09dd1706e5c7"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2F07987461-1e7b-4293-93fc-16095b3efe63%2FUntitled.png?width=1610&amp;table=block&amp;id=120b7624-cb3a-4720-91ba-09dd1706e5c7" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><pre id="https://www.notion.so/51b95236652540a591f941bc3f87b825" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token class-name">ThreadPoolExecutor</span> pool<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ThreadPoolExecutor</span><span class="token punctuation">(</span>
                <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">ArrayBlockingQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">final</span> <span class="token keyword">int</span> index <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 执行任务</span>
            pool<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">{</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span></span></span></span></code></pre><h2 id="https://www.notion.so/4f69711b783948bc967064c856c4da14" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/4f69711b783948bc967064c856c4da14"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">submit与execute的区别</span></span></h2><div id="https://www.notion.so/55c57dc3972a4a7bab3ceb220c0af1f2" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F24b16f50-d9b5-4162-89b8-b725f60299b8%2FUntitled.png?width=745&amp;table=block&amp;id=55c57dc3-972a-4a7b-ab3c-eb220c0af1f2"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F24b16f50-d9b5-4162-89b8-b725f60299b8%2FUntitled.png?width=745&amp;table=block&amp;id=55c57dc3-972a-4a7b-ab3c-eb220c0af1f2" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/3329a6291d5e45e9b57b34c3f0789914" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/5c0ea68422ec498b8a21e0afe26ddcef" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/5c0ea68422ec498b8a21e0afe26ddcef"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">为什么不建议用Executors</span></span></h2><div id="https://www.notion.so/f1fc89e3a0974b28a595e97c7a4763ff" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">使用Executors创建线程池可能会导致OOM（内存溢出）</span></span></p></div><div id="https://www.notion.so/99a40feddca346e19d4f54c1165b8e69" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F65b386a4-5e12-4c0c-8ef4-460ea03c5f3d%2FUntitled.png?width=1418&amp;table=block&amp;id=99a40fed-dca3-46e1-9d4f-54c1165b8e69"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F65b386a4-5e12-4c0c-8ef4-460ea03c5f3d%2FUntitled.png?width=1418&amp;table=block&amp;id=99a40fed-dca3-46e1-9d4f-54c1165b8e69" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/cb66ef41c57e44a494ebb2fa4e9f41ac" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/3e142e2daf6b475081857278e87d4991" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/3e142e2daf6b475081857278e87d4991"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">常见的线程池种类</span></span></h2><div id="https://www.notion.so/d706a1f767ba4698a70f8e6319b9bf85" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F94448672-5e7b-4b1a-862a-d3824ab55b5b%2FUntitled.png?width=1410&amp;table=block&amp;id=d706a1f7-67ba-4698-a70f-8e6319b9bf85"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F94448672-5e7b-4b1a-862a-d3824ab55b5b%2FUntitled.png?width=1410&amp;table=block&amp;id=d706a1f7-67ba-4698-a70f-8e6319b9bf85" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/3cbe1d14a6ac4e4d8674cbae1d1aed83" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F44b64701-45bc-470b-9cc0-957d23a41011%2FUntitled.png?width=1712&amp;table=block&amp;id=3cbe1d14-a6ac-4e4d-8674-cbae1d1aed83"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F44b64701-45bc-470b-9cc0-957d23a41011%2FUntitled.png?width=1712&amp;table=block&amp;id=3cbe1d14-a6ac-4e4d-8674-cbae1d1aed83" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/fd84d9ec35e644378daf6fc7ca3bd136" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/71d66430738e427abe10e39e6eac5208" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/a760a06237f9414a9a2094d40cdcc6c5" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F14e072ac-865d-40e5-b950-daabf6b74906%2FUntitled.png?width=1664&amp;table=block&amp;id=a760a062-37f9-414a-9a20-94d40cdcc6c5"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F14e072ac-865d-40e5-b950-daabf6b74906%2FUntitled.png?width=1664&amp;table=block&amp;id=a760a062-37f9-414a-9a20-94d40cdcc6c5" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/9124be6cdd6e4e5aa7b8a4dcb47dd379" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F837347de-89cd-4bfe-a2d1-e0bfe7cb6c29%2FUntitled.png?width=1680&amp;table=block&amp;id=9124be6c-dd6e-4e5a-a7b8-a4dcb47dd379"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F837347de-89cd-4bfe-a2d1-e0bfe7cb6c29%2FUntitled.png?width=1680&amp;table=block&amp;id=9124be6c-dd6e-4e5a-a7b8-a4dcb47dd379" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/4d1574f3031b42feabbb5bae1830cb36" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/6336507fc78f4593aae87c646dcf2553" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/6336507fc78f4593aae87c646dcf2553"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">线程池的具体使用</span></span></h1><div id="https://www.notion.so/3b1cecc925a24efc85cb670437eb4e1a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">线程池使用面临的核心的问题在于：</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">线程池的参数并不好配置</strong></span><span class="SemanticString">。一方面线程池的运行机制不是很好理解，配置合理需要强依赖开发人员的个人经验和知识；另一方面，线程池执行的情况和任务类型相关性较大，IO密集型和CPU密集型的任务运行起来的情况差异非常大，这导致业界并没有一些成熟的经验策略帮助开发人员参考。</span></span></p></div><h2 id="https://www.notion.so/a3261fa779c345c084419a45325c61d9" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/a3261fa779c345c084419a45325c61d9"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">能否不用线程池</span></span></h2><div id="https://www.notion.so/662bd1b65f0f4651a9e7e157f2d7a5b4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">综合考虑，这些新的方案都能在某种情况下提升并行任务的性能，然而本次重点解决的问题是如何更简易、更安全地获得的并发性。另外，Actor模型的应用实际上甚少，只在Scala中使用广泛，协程框架在Java中维护的也不成熟。这三者现阶段都不是足够的易用，也并不能解决业务上现阶段的问题。</span></span></p></div><h2 id="https://www.notion.so/0da937e933ac4a879ebbdf86e72b7f68" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/0da937e933ac4a879ebbdf86e72b7f68"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">追求线程合理性</span></span></h2><div id="https://www.notion.so/d2f212bb75174e26bf8c7d4da2fd8b98" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2F6d4325f6-c5e5-4bc3-9edb-0336d6aed182%2FUntitled.png?width=2428&amp;table=block&amp;id=d2f212bb-7517-4e26-bf8c-7d4da2fd8b98"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2F6d4325f6-c5e5-4bc3-9edb-0336d6aed182%2FUntitled.png?width=2428&amp;table=block&amp;id=d2f212bb-7517-4e26-bf8c-7d4da2fd8b98" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h3 id="https://www.notion.so/e1eb00e009f8460ca1569380fc31cb23" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/e1eb00e009f8460ca1569380fc31cb23"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">动态化线程池</span></span></h3><div id="https://www.notion.so/d4500fbd5c414780b281fd86d30c32d6" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2Fea333f46-ca97-4dfb-95a9-62ca33087f02%2FUntitled.png?width=2436&amp;table=block&amp;id=d4500fbd-5c41-4780-b281-fd86d30c32d6"><img src="https://www.notion.so/signed/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F97f60ed7-2f91-4328-9e16-bcc075d7c8a7%2Fea333f46-ca97-4dfb-95a9-62ca33087f02%2FUntitled.png?width=2436&amp;table=block&amp;id=d4500fbd-5c41-4780-b281-fd86d30c32d6" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h1 id="https://www.notion.so/f6bd6774f3264bfb8361d70fd547ebd1" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/f6bd6774f3264bfb8361d70fd547ebd1"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">参考文章</span></span></h1><div id="https://www.notion.so/8a5afff42bb944c29f9eb6573c6c9707" class="Bookmark"><a href="https://blog.csdn.net/qq_44525150/article/details/119851941"><h5 class="Bookmark__Title">java线程池的四种拒绝策略_TTODS.的博客-CSDN博客</h5><p class="Bookmark__Desc">本文主要介绍了java juc包中提供的四种拒绝策略。先是接受了部分java线程池ThreadPoolExecutor的构造方法，然后以源码和程序示例的方式介绍了四种拒绝策AbortPolicy,CallerRunsPolicy,DiscardPolicy,DiscardOldestPolicy的不同。</p><p class="Bookmark__Link">https://blog.csdn.net/qq_44525150/article/details/119851941</p></a></div><div id="https://www.notion.so/e8296253c4154c509de614765123b23f" class="Bookmark"><a href="https://blog.csdn.net/qing040513/article/details/111667627"><h5 class="Bookmark__Title">线程池提交执行任务中execute()方法和submit()的区别_newfixedthreadpool使用subimt和execute的区别_木鸟飞的博客-CSDN博客</h5><p class="Bookmark__Desc">文章目录简介方法来源不同接收的参数不同返回值不同异常的处理简介在线程池的使用中，我们一般用ThreadPoolExecutor来创建线程池，创建好线程池后会将任务提交给线程池来执行。在提交任务的时候，JDK为我们提供了两种不同的提交方式，分别是submit()和excute()，那么它们两者之间有什么不同呢？相互之间有什么关系呢？下面简单的介绍下方法来源不同execut()是在线程池的顶级接口Executor中定义的，而且只有这一个接口，可见这个方法的重要性。public interface Ex</p><p class="Bookmark__Link">https://blog.csdn.net/qing040513/article/details/111667627</p></a></div><div id="https://www.notion.so/279e1b5c93624b61adada74cb5f883d5" class="Bookmark"><a href="https://tech.meituan.com/2020/04/02/java-pooling-pratice-in-meituan.html"><h5 class="Bookmark__Title">Java线程池实现原理及其在美团业务中的实践</h5><p class="Bookmark__Desc">本文开篇简述线程池概念和用途，接着结合线程池的源码，帮助读者领略线程池的设计思路，最后回归实践，通过案例讲述使用线程池遇到的问题，并给出了一种动态化线程池解决方案。</p><p class="Bookmark__Link">https://tech.meituan.com/2020/04/02/java-pooling-pratice-in-meituan.html</p></a></div></article>
  <footer class="Footer">
  <div>&copy; 沂风 2022</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>