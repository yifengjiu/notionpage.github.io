<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>反射 &nbsp;|&nbsp;沂风</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="反射 ">
  
    <meta name="description" content="Java反射以及具体操作">
    <meta property="og:description" content="Java反射以及具体操作">
  
  
    <meta property="og:image" content="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;⚾&lt;/text&gt;&lt;/svg&gt;">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;😀&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>关于</span>
        </div>
      </a>
    
  
</nav>
  <header class="Header">
    
      <div class="Header__Cover">
        <img src="https://www.notion.so/images/page-cover/rijksmuseum_rembrandt_1642.jpg">
      </div>
    
    <div class="Header__Spacer ">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;⚾&lt;/text&gt;&lt;/svg&gt;"></span>
      </div>
    
    <h1 class="Header__Title">反射 </h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Fri, Aug 18, 2023</span>
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--blue">
            <a href="tag/Java.html">Java</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/fab1d2edab754020b5d6aa2784167b43" class="PageRoot"><ul id="https://www.notion.so/bb6a91359f2040999c191d18d5c0aa0c" class="ColorfulBlock ColorfulBlock--ColorGray TableOfContents"><li class="TableOfContents__Item"><a href="#https://www.notion.so/5c29005434c54a7baca78ebdafa88405"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">什么是反射</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/bde253d959214873a8c5dc7aa141e994"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">动态获取信息以及动态调用对象的方法</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/acbb25f845eb45feb67aa1d8fc0a7086"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">反射的原理</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/d51bf0d2076f4c05b2240d736b87cc81"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">反射的原理就是拿到Class对象后，读取对象的各种信息</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/da12ebc54ff843f2a9ac913ad011550f"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">反射常用的操作</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/0afc76acc23a49888001ae474e66a310"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">获取Class对象的四种方式</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/be6a52e706c84891aca8528a9a4f065e"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">字节类名.class(需要引入)</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/36aea7273d3e4a85b95475fcd90fbc87"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">对象.getClass()</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/216901205f244ea884a2ad825772a841"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">Class.forName()传入完全限定名</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/a9d3ba34b77d4c128c72ab6b85a2afd9"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">类加载器</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/ed9670a7b0f04550acf5aaf78fe91c71"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">通过反射实例化对象</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/90e1b6d28f92470784efdcfcdbf17cd2"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">利用反射操作属性</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/5bc8f64e5fcb4f6b839988144a298565"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">给属性赋值，读出属性</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/59f2fb879912464a84e20b5c64093fd8"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">可以访问私有属性么</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/506b0633d67a4cb28841ad8f2eb1aba1"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">利用反射操纵方法</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e2ef3e2fefd54c7597fcc1f2f696b666"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">实际演示</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/2f6ea6dba25145d1a32939d558ad9b3f"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">为什么用反射，不用new</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/aff8fd7ff6f845bf8480ae42942d00a7"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">反射在spring中的应用举例</span></span></div></a></li></ul><div id="https://www.notion.so/21b25d61903e4b319f154f5f50fab22e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/5c29005434c54a7baca78ebdafa88405" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/5c29005434c54a7baca78ebdafa88405"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">什么是反射</span></span></h2><h3 id="https://www.notion.so/bde253d959214873a8c5dc7aa141e994" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/bde253d959214873a8c5dc7aa141e994"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">动态获取信息以及动态调用对象的方法</span></span></h3><div id="https://www.notion.so/54cf1630e6394ca1a0e4d64bfb508455" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">简而言之，只要你给我一个 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">.class</strong></code></span><span class="SemanticString"> ——类的名字，我就能通过反射获取到类的属性和方法</span></span></p></div><div id="https://www.notion.so/47f7570814e243539de002942949c52d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">通过java语言中的反射机制可以</span></span></p></div><div id="https://www.notion.so/5a42538efdb749d78e4a0dc72f7c5cf0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">操作字节码文件（可以读和修改字节码文件。）</span></span></p></div><div id="https://www.notion.so/1df83308d33847d8b6c0f70f73b804cb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">通过反射机制可以操作代码片段。（class文件。）</span></span></p></div><div id="https://www.notion.so/6e7cfb2d6581476085c176335c03aacc" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Java反射机制的核心是在程序运行时动态加载类并获取类的详细信息，从而操作类或对象的属性和方法。本质是JVM得到class对象之后，</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">再通过class对象进行反编译，从而获取对象的各种信息。</strong></span></span></p></div><div id="https://www.notion.so/37e52b8d60aa4d26b120a02a0ce04ff6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">可以任意获取一个类的所有属性和方法，并且可以调用这些属性和方法</span></span></p></div><div id="https://www.notion.so/1b6729fe48a64c3e86400256a87eb62a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">精髓：动态的创造一个对象</span></span></p></div><h2 id="https://www.notion.so/acbb25f845eb45feb67aa1d8fc0a7086" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/acbb25f845eb45feb67aa1d8fc0a7086"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">反射的原理</span></span></h2><h3 id="https://www.notion.so/d51bf0d2076f4c05b2240d736b87cc81" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/d51bf0d2076f4c05b2240d736b87cc81"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">反射的原理就是拿到Class对象后，读取对象的各种信息</span></span></h3><div id="https://www.notion.so/474cf416622044e385d9155ac4fa73ad" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F9f0127b6-9ba9-4ca1-95f0-6058f7319c84%2FUntitled.png?width=1476&amp;table=block&amp;id=474cf416-6220-44e3-85d9-155ac4fa73ad"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F9f0127b6-9ba9-4ca1-95f0-6058f7319c84%2FUntitled.png?width=1476&amp;table=block&amp;id=474cf416-6220-44e3-85d9-155ac4fa73ad" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h1 id="https://www.notion.so/da12ebc54ff843f2a9ac913ad011550f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/da12ebc54ff843f2a9ac913ad011550f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">反射常用的操作</span></span></h1><h2 id="https://www.notion.so/0afc76acc23a49888001ae474e66a310" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/0afc76acc23a49888001ae474e66a310"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">获取Class对象的四种方式</span></span></h2><div id="https://www.notion.so/8428e4a78d2141c6ab8b95f0932c4f7c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">要操作一个类的字节码，需要首先获取到这个类的字节码，怎么获取java.lang.Class实例？</span></span></p></div><h3 id="https://www.notion.so/be6a52e706c84891aca8528a9a4f065e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/be6a52e706c84891aca8528a9a4f065e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">字节类名.class(需要引入)</span></span></h3><h3 id="https://www.notion.so/36aea7273d3e4a85b95475fcd90fbc87" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/36aea7273d3e4a85b95475fcd90fbc87"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">对象.getClass()</span></span></h3><h3 id="https://www.notion.so/216901205f244ea884a2ad825772a841" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/216901205f244ea884a2ad825772a841"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Class.forName()传入完全限定名</span></span></h3><h3 id="https://www.notion.so/a9d3ba34b77d4c128c72ab6b85a2afd9" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/a9d3ba34b77d4c128c72ab6b85a2afd9"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">类加载器</span></span></h3><div id="https://www.notion.so/224958309c524360b0e8a633ecdec191" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff349dc07-f92d-4c9c-b8d8-c940728449b9%2FUntitled.png?width=2004&amp;table=block&amp;id=22495830-9c52-4360-b0e8-a633ecdec191"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff349dc07-f92d-4c9c-b8d8-c940728449b9%2FUntitled.png?width=2004&amp;table=block&amp;id=22495830-9c52-4360-b0e8-a633ecdec191" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/ed9670a7b0f04550acf5aaf78fe91c71" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/ed9670a7b0f04550acf5aaf78fe91c71"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">通过反射实例化对象</span></span></h2><div id="https://www.notion.so/96511975ac52412d8f8524899de9ac0a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">对象.newInstance</span></span></p></div><pre id="https://www.notion.so/3961c0bec1cf4471bdf77a89b5ab3509" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">class</span> <span class="token class-name">ReflectTest02</span><span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">InstantiationException</span><span class="token punctuation">,</span> <span class="token class-name">IllegalAccessException</span> <span class="token punctuation">{</span>
<span class="token comment">// 下面这段代码是以反射机制的方式创建对象。    </span>
<span class="token comment">// 通过反射机制，获取Class，通过Class来实例化对象</span>
    <span class="token class-name">Class</span> c <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"javase.reflectBean.User"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// newInstance() 这个方法会调用User这个类的无参数构造方法，完成对象的创建。</span>
    <span class="token comment">// 重点是：newInstance()调用的是无参构造，必须保证无参构造是存在的！</span>
    <span class="token class-name">Object</span> obj <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span></span></code></pre><h2 id="https://www.notion.so/90e1b6d28f92470784efdcfcdbf17cd2" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/90e1b6d28f92470784efdcfcdbf17cd2"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">利用反射操作属性</span></span></h2><h3 id="https://www.notion.so/5bc8f64e5fcb4f6b839988144a298565" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/5bc8f64e5fcb4f6b839988144a298565"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">给属性赋值，读出属性</span></span></h3><div id="https://www.notion.so/1631377c09e348c5b37a9c12efc5c3a3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">set/get</span></span></p></div><pre id="https://www.notion.so/0ef82d04199241d0945e6a70d2ec1b7e" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span> <span class="token comment">/*
必须掌握：
怎么通过反射机制访问一个java对象的属性？
给属性赋值set
获取属性的值get
*/</span>
<span class="token keyword">class</span> <span class="token class-name">ReflectTest07</span><span class="token punctuation">{</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">InstantiationException</span><span class="token punctuation">,</span> <span class="token class-name">IllegalAccessException</span><span class="token punctuation">,</span> <span class="token class-name">NoSuchFieldException</span> <span class="token punctuation">{</span>
<span class="token comment">//不使用反射机制给属性赋值</span>
<span class="token class-name">Student</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**给属性赋值三要素：给s对象的no属性赋值1111
* 要素1：对象s
* 要素2：no属性
* 要素3：1111
*/</span>
</span></span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="http://student.no/"><span>student<span class="token punctuation">.</span>no</span></a></span><span class="SemanticString"><span> <span class="token operator">=</span> <span class="token number">1111</span><span class="token punctuation">;</span>
<span class="token comment">/**读属性值两个要素：获取s对象的no属性的值。
* 要素1：对象s
* 要素2：no属性
*/</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span></span></span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="http://student.no/"><span>student<span class="token punctuation">.</span>no</span></a></span><span class="SemanticString"><span><span class="token punctuation">)</span><span class="token punctuation">;</span>  

 <span class="token comment">//使用反射机制给属性赋值</span>
    <span class="token class-name">Class</span> studentClass <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"javase.reflectBean.Student"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Object</span> obj <span class="token operator">=</span> studentClass<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// obj就是Student对象。（底层调用无参数构造方法）</span>

    <span class="token comment">// 获取no属性（根据属性的名称来获取Field）</span>
    <span class="token class-name">Field</span> noField <span class="token operator">=</span> studentClass<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">"no"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 给obj对象(Student对象)的no属性赋值</span>
    <span class="token comment">/*
        虽然使用了反射机制，但是三要素还是缺一不可：
            要素1：obj对象
            要素2：no属性
            要素3：22222值
        注意：反射机制让代码复杂了，但是为了一个“灵活”，这也是值得的。
     */</span>
    noField<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token number">22222</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 读取属性的值</span>
    <span class="token comment">// 两个要素：获取obj对象的no属性的值。</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>noField<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span></span></code></pre><h3 id="https://www.notion.so/59f2fb879912464a84e20b5c64093fd8" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/59f2fb879912464a84e20b5c64093fd8"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">可以访问私有属性么</span></span></h3><div id="https://www.notion.so/3cbe3d559bab44b9a0a28730bd30cec5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">可以，需要打破封装，才可以用</span></span></p></div><pre id="https://www.notion.so/f010e2022e9a4c95bfc88190811dacb0" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token operator">*</span><span class="token operator">*</span>setAccessible<span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> flag<span class="token punctuation">)</span>
<span class="token comment">// 可以访问私有的属性吗？</span>
<span class="token class-name">Field</span> nameField <span class="token operator">=</span> studentClass<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 打破封装（反射机制的缺点：打破封装，可能会给不法分子留下机会！！！）</span>
<span class="token comment">// 这样设置完之后，在外部也是可以访问private的。</span>
nameField<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 给name属性赋值</span>
nameField<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">"xiaowu"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取name属性的值</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nameField<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></span></code></pre><h2 id="https://www.notion.so/506b0633d67a4cb28841ad8f2eb1aba1" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/506b0633d67a4cb28841ad8f2eb1aba1"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">利用反射操纵方法</span></span></h2><div id="https://www.notion.so/81c8816967414c8d9ba078070f6e0a70" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F69713ac3-2d9b-4a93-a86c-26d33131a372%2FUntitled.png?width=735&amp;table=block&amp;id=81c88169-6741-4c8d-9ba0-78070f6e0a70"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F69713ac3-2d9b-4a93-a86c-26d33131a372%2FUntitled.png?width=735&amp;table=block&amp;id=81c88169-6741-4c8d-9ba0-78070f6e0a70" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/b54af73768f34111ac793a13f79731ae" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F6b889e9b-a61f-4ff1-8ac1-8f7fefe70f61%2FUntitled.png?width=1348&amp;table=block&amp;id=b54af737-68f3-4111-ac79-3a13f79731ae"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F6b889e9b-a61f-4ff1-8ac1-8f7fefe70f61%2FUntitled.png?width=1348&amp;table=block&amp;id=b54af737-68f3-4111-ac79-3a13f79731ae" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/61257c546150488bb3230d35b84782b6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">方法.invoke(对象，实参）</span></span></p></div><div id="https://www.notion.so/51b377db74994cf1b6c10e6e695b7108" class="Bookmark"><a href="https://juejin.cn/post/6889833658669072397"><h5 class="Bookmark__Title">「Java 路线」|  反射机制（含 Kotlin） - 掘金</h5><p class="Bookmark__Desc">反射（Reflection）是一种在运行时 动态访问类型信息 的机制。 1. 类型系统的基本概念 答：强 / 弱类型语言的区分，关键在于变量是否 （倾向于） 类型兼容。例如，Java 是强类型语言，变量有固定的类型，以下代码在 Java 中是非法的： 更具体地描述，Java的强…</p><p class="Bookmark__Link">https://juejin.cn/post/6889833658669072397</p></a></div><div id="https://www.notion.so/f90dd2189bdf4191a5f0b486dd1f9386" class="Bookmark"><a href="https://juejin.cn/post/7127479917767294990"><h5 class="Bookmark__Title">Java最强大的技术之一：反射 - 掘金</h5><p class="Bookmark__Desc">携手创作，共同成长！这是我参与「掘金日新计划 · 8 月更文挑战」的第8天，点击查看活动详情 何为反射？ Java的 反射机制 是在运行状态中，对于任意一个类，都能够 知道这个类的所有属性和方法 ；对</p><p class="Bookmark__Link">https://juejin.cn/post/7127479917767294990</p></a></div><div id="https://www.notion.so/f2891a489b074a84bd7041aea2470e8e" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F80a905d6-03dd-408f-94a3-8b21036deb2c%2FUntitled.png?width=1998&amp;table=block&amp;id=f2891a48-9b07-4a84-bd70-41aea2470e8e"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F80a905d6-03dd-408f-94a3-8b21036deb2c%2FUntitled.png?width=1998&amp;table=block&amp;id=f2891a48-9b07-4a84-bd70-41aea2470e8e" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h1 id="https://www.notion.so/e2ef3e2fefd54c7597fcc1f2f696b666" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/e2ef3e2fefd54c7597fcc1f2f696b666"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">实际演示</span></span></h1><pre id="https://www.notion.so/dc7ed0fa3628480eb3303ffbf5759c99" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">InstantiationException</span><span class="token punctuation">,</span> <span class="token class-name">IllegalAccessException</span><span class="token punctuation">,</span> <span class="token class-name">NoSuchFieldException</span><span class="token punctuation">,</span> <span class="token class-name">NoSuchMethodException</span><span class="token punctuation">,</span> <span class="token class-name">InvocationTargetException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Demo</span> demo<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//获取类对象</span>
        <span class="token class-name">Class</span> demo1<span class="token operator">=</span><span class="token class-name">Demo</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
        <span class="token class-name">Class</span> demo2<span class="token operator">=</span>demo<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//Class demo3=</span>
        <span class="token comment">//实例化类</span>
        <span class="token class-name">Object</span> demoin4<span class="token operator">=</span>demo1<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//获得类的私有属性</span>
        <span class="token class-name">Field</span> fieldnum<span class="token operator">=</span>demo2<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">"num"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fieldnum<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//为某个对象设置属性值</span>
        fieldnum<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>demoin4<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>fieldnum<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>demoin4<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//获取私有方法</span>
        <span class="token class-name">Method</span><span class="token punctuation">[</span><span class="token punctuation">]</span> methods<span class="token operator">=</span>demo1<span class="token punctuation">.</span><span class="token function">getMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Method</span> fun<span class="token operator">=</span>demo1<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">"fun"</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fun<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//调用某个对象的私有方法</span>
        fun<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>demoin4<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Method</span> method <span class="token operator">:</span> methods<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span></span></span></span></code></pre><h1 id="https://www.notion.so/2f6ea6dba25145d1a32939d558ad9b3f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/2f6ea6dba25145d1a32939d558ad9b3f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">为什么用反射，不用new</span></span></h1><div id="https://www.notion.so/4177b0be4f124b1ab3b570d8056b7fdd" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">基本上效果差不多，但是new对象，无法调用该类里面私有的东西，反射反之，具体怎么做请参考java AIP，不过反射需要以牺牲性能做代价。</span></span></p></div><div id="https://www.notion.so/8683997fce5a433ba453ff3f276f853f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在不知道类名的情况下，你怎么去new</span></span></p></div><div id="https://www.notion.so/48da005fbb1d425fb4f91174d7ed5a50" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">new属于静态编译，而反射属于动态编译</span></span></p></div><div id="https://www.notion.so/dd3d30b62de245e4bf34fc99117211f5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://blog.csdn.net/weixin_42181686/article/details/115074669">https://blog.csdn.net/weixin_42181686/article/details/115074669</a></span></span></p></div><h1 id="https://www.notion.so/aff8fd7ff6f845bf8480ae42942d00a7" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/aff8fd7ff6f845bf8480ae42942d00a7"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">反射在spring中的应用举例</span></span></h1><div id="https://www.notion.so/13c9e437e3cd419d930df12fb3813a85" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Spring IOC</strong></code></span><span class="SemanticString"> 容器帮我们实例化众多的bean，下面我们简单模拟一下 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">反射</strong></code></span><span class="SemanticString"> 在其中起到的作用。</span></span></p></div><div id="https://www.notion.so/3ce73ec245a04646afc1783b01add836" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Spring 通过配置文件实例化对象，并将其放到容器的过程大概就是（模拟）：</span></span></p></div><pre id="https://www.notion.so/8c78c33a15014a8585e1e0ec749dae88" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>
java复制代码
<span class="token comment">//伪代码//1.解析&lt;bean .../>元素的id属性得到该字符串值为“pony”  </span>
<span class="token class-name">String</span> idStr <span class="token operator">=</span> <span class="token string">"pony"</span><span class="token punctuation">;</span>
<span class="token comment">//解析&lt;bean .../>元素的class属性得到该字符串值为“com.xblzer.dp.proxy.springaop.Pony”  </span>
<span class="token class-name">String</span> classStr <span class="token operator">=</span> <span class="token string">"com.xblzer.dp.proxy.springaop.Pony"</span><span class="token punctuation">;</span>
<span class="token comment">//利用反射机制，通过classStr获取Class类对象  </span>
<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span></span> cls <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>classStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//实例化对象  </span>
<span class="token class-name">Object</span> obj <span class="token operator">=</span> cls<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//放到Spring容器  </span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> container <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
container<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>idStr<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></span></code></pre><div id="https://www.notion.so/057d19750e8d494598b8249bc6d93f99" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/789d55fc7aa940d3819dda33bcc616d1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></article>
  <footer class="Footer">
  <div>&copy; 沂风 2022</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>